import{e as C,j as e,w as u,B as f,c as h,i as v,x as y,r as T,l as E,n as I}from"./index-CyvJUZqR.js";import{u as P}from"./useQuery-DOA-4dB4.js";import{C as l,a as g,c,d as A,b}from"./card-9e5eR-TL.js";import{S as p}from"./server-Dv38LmPL.js";import{G as S}from"./globe-CET8i7Ac.js";import{T as j}from"./triangle-alert-BFLjuX3_.js";import{C as k}from"./circle-check-LM3MRdPF.js";import{P as U}from"./progress-DPoL9SyL.js";import{C as V}from"./cpu-D1kV5ECj.js";import{D as L}from"./database-BCwPF7Xr.js";import{T as R,a as D,b as N,c as o,d as z,e as m}from"./table-DPilA-Lh.js";import{M}from"./map-pin-CR8zI-YM.js";import{S as B}from"./separator-DrhA6iK3.js";import{P as G}from"./plus-BmaVqT4C.js";import{Z as q}from"./zap-CnivpesB.js";const H=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],Q=C("network",H),W=[{id:"INT-CLD-001",provider:"AWS",accountName:"ai-production-main",linkedPipelines:["INT-CICD-001"],environments:[{id:"ENV-001",name:"Production",region:"us-east-1",status:"ACTIVE"},{id:"ENV-002",name:"Staging",region:"eu-west-1",status:"ACTIVE"}],resourceUsage:{cpu:68,storage:74,bandwidth:52},status:"ACTIVE"},{id:"INT-CLD-002",provider:"Azure",accountName:"enterprise-cloud-hub",linkedPipelines:["INT-CICD-002"],environments:[{id:"ENV-003",name:"Dev-SandBox",region:"eastus",status:"ACTIVE"},{id:"ENV-004",name:"QA-Cluster",region:"westeurope",status:"MAINTENANCE"}],resourceUsage:{cpu:45,storage:32,bandwidth:15},status:"ACTIVE"},{id:"INT-CLD-003",provider:"GCP",accountName:"data-ml-services",linkedPipelines:[],environments:[{id:"ENV-005",name:"ML-Training-Nodes",region:"us-central1",status:"ACTIVE"}],resourceUsage:{cpu:92,storage:88,bandwidth:76},status:"WARNING"}],F=()=>{const{data:s=[],isLoading:a}=P({queryKey:["cloud-providers"],queryFn:async()=>(await new Promise(r=>setTimeout(r,500)),W)}),t={activeProviders:s.length,totalEnvironments:s.reduce((r,i)=>r+i.environments.length,0),avgUtilization:s.length>0?Math.round(s.reduce((r,i)=>r+(i.resourceUsage.cpu+i.resourceUsage.storage)/2,0)/s.length):0};return{providers:s,stats:t,isLoading:a}};function Z({provider:s,onSelect:a,isSelected:t}){const r={ACTIVE:{icon:e.jsx(k,{className:"h-4 w-4 text-emerald-500"}),class:"text-emerald-500 bg-emerald-500/10 border-emerald-500/20"},WARNING:{icon:e.jsx(j,{className:"h-4 w-4 text-orange-500"}),class:"text-orange-500 bg-orange-500/10 border-orange-500/20"},ERROR:{icon:e.jsx(j,{className:"h-4 w-4 text-red-500"}),class:"text-red-500 bg-red-500/10 border-red-500/20"}};return e.jsxs(l,{className:h("cursor-pointer transition-all hover:border-primary/50",t&&"border-primary ring-1 ring-primary"),onClick:()=>a(s),children:[e.jsxs(g,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:e.jsx(u,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold leading-none",children:s.provider}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:s.accountName})]})]}),e.jsxs(f,{variant:"outline",className:h("gap-1.5 capitalize font-medium",r[s.status].class),children:[r[s.status].icon,s.status.toLowerCase()]})]}),e.jsx(c,{className:"space-y-4 pt-2",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-[10px] text-muted-foreground uppercase",children:"Environments"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{className:"h-3 w-3 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-medium",children:s.environments.length})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-[10px] text-muted-foreground uppercase",children:"Regions"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-3 w-3 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-medium",children:[...new Set(s.environments.map(i=>i.region))].length})]})]})]})}),e.jsx(A,{className:"border-t bg-muted/50 px-6 py-3",children:e.jsxs(v,{variant:"ghost",size:"sm",className:"w-full h-8 text-xs gap-2",children:[e.jsx(y,{className:"h-3.5 w-3.5"}),"Manage Provider"]})})]})}function _({provider:s}){if(!s)return e.jsx(l,{className:"h-full flex items-center justify-center text-muted-foreground p-8",children:"Select a provider to view resource metrics"});const a=[{label:"CPU Usage",value:s.resourceUsage.cpu,icon:e.jsx(V,{className:"h-4 w-4"}),color:"bg-blue-500"},{label:"Storage",value:s.resourceUsage.storage,icon:e.jsx(L,{className:"h-4 w-4"}),color:"bg-purple-500"},{label:"Bandwidth",value:s.resourceUsage.bandwidth,icon:e.jsx(Q,{className:"h-4 w-4"}),color:"bg-orange-500"}];return e.jsxs(l,{children:[e.jsx(g,{children:e.jsxs(b,{className:"text-lg",children:["Resource Utilization: ",s.provider]})}),e.jsx(c,{className:"space-y-6",children:a.map(t=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[t.icon,t.label]}),e.jsxs("span",{className:"font-semibold",children:[t.value,"%"]})]}),e.jsx(U,{value:t.value,className:"h-2"})]},t.label))})]})}function K({provider:s}){return s?e.jsxs(l,{children:[e.jsx(g,{children:e.jsxs(b,{className:"text-lg flex items-center gap-2",children:[e.jsx(p,{className:"h-5 w-5 text-primary"}),"Configured Environments"]})}),e.jsx(c,{children:e.jsxs(R,{children:[e.jsx(D,{children:e.jsxs(N,{children:[e.jsx(o,{children:"Environment Name"}),e.jsx(o,{children:"Region"}),e.jsx(o,{children:"Status"})]})}),e.jsx(z,{children:s.environments.map(a=>e.jsxs(N,{children:[e.jsx(m,{className:"font-medium",children:a.name}),e.jsx(m,{children:e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[e.jsx(M,{className:"h-3 w-3"}),a.region]})}),e.jsx(m,{children:e.jsx(f,{variant:"outline",className:h("capitalize text-[10px]",a.status==="ACTIVE"&&"border-emerald-500/20 text-emerald-500",a.status==="MAINTENANCE"&&"border-orange-500/20 text-orange-500",a.status==="INACTIVE"&&"border-slate-500/20 text-slate-500"),children:a.status.toLowerCase()})})]},a.id))})]})})]}):null}function oe(){const{providers:s,stats:a,isLoading:t}=F(),[r,i]=T.useState(null),d=s.find(n=>n.id===r)||null;return t?e.jsx("div",{className:"p-8",children:"Loading infrastructure data..."}):e.jsxs("div",{className:"flex flex-col gap-8 p-8",children:[e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:"Cloud Providers"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage multi-cloud infrastructure and deployment environments."})]}),e.jsxs(v,{className:"gap-2",children:[e.jsx(G,{className:"h-4 w-4"}),"Connect Provider"]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsx(x,{title:"Active Providers",value:a.activeProviders,icon:e.jsx(u,{className:"h-4 w-4 text-blue-500"}),description:"Linked cloud accounts"}),e.jsx(x,{title:"Total Environments",value:a.totalEnvironments,icon:e.jsx(p,{className:"h-4 w-4 text-emerald-500"}),description:"Active clusters and nodes"}),e.jsx(x,{title:"Resource Utilization",value:`${a.avgUtilization}%`,icon:e.jsx(E,{className:"h-4 w-4 text-orange-500"}),description:"Average across providers"})]})]}),e.jsx(B,{}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[e.jsx(I,{className:"h-5 w-5 text-primary"}),"Infrastructure"]})}),e.jsx("div",{className:"grid gap-4",children:s.map(n=>e.jsx(Z,{provider:n,isSelected:r===n.id,onSelect:w=>i(w.id)},n.id))}),e.jsx(l,{className:"bg-primary/5 border-primary/20",children:e.jsx(c,{className:"pt-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(q,{className:"h-5 w-5 text-primary mt-1"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"Quick Deploy"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Connect more providers to enable global low-latency deployments for your demo builds."})]})]})})})]}),e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-1 xl:grid-cols-2 gap-8",children:[e.jsx(_,{provider:d}),e.jsx(K,{provider:d})]}),!d&&e.jsxs("div",{className:"flex flex-col items-center justify-center p-12 border-2 border-dashed rounded-xl opacity-50",children:[e.jsx(u,{className:"h-12 w-12 mb-4"}),e.jsx("p",{className:"text-lg font-medium",children:"Select a provider to view detailed infrastructure metrics"})]})]})]})]})}function x({title:s,value:a,icon:t,description:r}){return e.jsx(l,{className:"bg-card/50 backdrop-blur-sm",children:e.jsxs(c,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between space-y-0 pb-2",children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:s}),t]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:a}),e.jsx("p",{className:"text-[10px] text-muted-foreground mt-1",children:r})]})]})})}export{oe as default};
