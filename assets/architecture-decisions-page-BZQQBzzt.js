import{n as g,j as e,p as w,B as i,b as T,W as L,l as I,i as O}from"./index-CyvJUZqR.js";import{u as B,R as $}from"./risk-assessment-panel-C7cz_otP.js";import{C as d,a as x,b as m,c as h,d as z}from"./card-9e5eR-TL.js";import{L as V}from"./RadarChart-_XoySH-w.js";import{C}from"./clock-BXrF9XKR.js";import{T as D}from"./triangle-alert-BFLjuX3_.js";import{T as H,a as G,b as N,c as n,d as M,e as o}from"./table-DPilA-Lh.js";import{s as K}from"./seniorDevelopersData-DFrZ6X3t.js";import{R as f,T as b}from"./CategoricalChart-WJAmy3lP.js";import{P as U,a as W}from"./PieChart-CsfmQ4gU.js";import{C as R}from"./tooltipContext-BhFxnOuu.js";import{L as _}from"./Legend-121kkJQm.js";import{B as S,a as A}from"./BarChart-gLJDjHRP.js";import{C as k}from"./CartesianGrid-BmRwr4Ov.js";import{X as E,Y as P}from"./CartesianChart-Kxs-tJ8o.js";import{A as j}from"./arrow-right-BNY497oc.js";import{S as F}from"./server-Dv38LmPL.js";import{D as J}from"./database-BCwPF7Xr.js";import{C as X}from"./circle-check-LM3MRdPF.js";import{S as Y}from"./send-DPrubeqO.js";import"./useQuery-DOA-4dB4.js";import"./architectureDecisionsData-c6ogkXic.js";import"./ActivePoints-CruzyNxB.js";import"./PolarChart-D353rnxE.js";import"./ActiveShapeUtils-tTCqnt4A.js";import"./ErrorBarContext-BO_Rq41O.js";import"./graphicalItemSelectors-01I7ku9s.js";function q({metrics:s}){const l=[{title:"Total Decisions",value:s.totalDecisions,icon:V,color:"text-blue-600",description:"Architecture roadmap"},{title:"Approved",value:s.approved,icon:g,color:"text-green-600",description:"Validated for implementation"},{title:"Under Review",value:s.underReview,icon:C,color:"text-yellow-600",description:"Architectural evaluation"},{title:"High-Risk Decisions",value:s.highRisk,icon:D,color:"text-red-600",description:"Critical system impact"}];return e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:l.map(t=>e.jsxs(d,{children:[e.jsxs(x,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(m,{className:"text-sm font-medium",children:t.title}),e.jsx(t.icon,{className:`h-4 w-4 ${t.color}`})]}),e.jsxs(h,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t.value}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t.description})]})]},t.title))})}function Q({decisions:s}){const l=w(),t=a=>{switch(a){case"APPROVED":return e.jsx(i,{className:"bg-green-100 text-green-800",children:"APPROVED"});case"PROPOSED":return e.jsx(i,{className:"bg-blue-100 text-blue-800",children:"PROPOSED"});case"UNDER_REVIEW":return e.jsx(i,{className:"bg-yellow-100 text-yellow-800",children:"UNDER REVIEW"});case"REJECTED":return e.jsx(i,{className:"bg-red-100 text-red-800",children:"REJECTED"})}},r=a=>{switch(a){case"CRITICAL":return e.jsx(i,{variant:"destructive",children:"CRITICAL"});case"HIGH":return e.jsx(i,{variant:"secondary",className:"bg-red-100 text-red-800 border-red-200",children:"HIGH"});case"MEDIUM":return e.jsx(i,{variant:"secondary",className:"bg-orange-100 text-orange-800",children:"MEDIUM"});case"LOW":return e.jsx(i,{variant:"outline",children:"LOW"})}},c=a=>K.find(p=>p.id===a)?.name||a;return e.jsxs(d,{className:"col-span-full",children:[e.jsx(x,{children:e.jsx(m,{children:"Architecture Decision Records (ADR)"})}),e.jsx(h,{children:e.jsxs(H,{children:[e.jsx(G,{children:e.jsxs(N,{children:[e.jsx(n,{children:"Decision Title"}),e.jsx(n,{children:"Category"}),e.jsx(n,{children:"Project"}),e.jsx(n,{children:"Proposed By"}),e.jsx(n,{children:"Risk Level"}),e.jsx(n,{children:"Impact"}),e.jsx(n,{children:"Status"}),e.jsx(n,{className:"text-right",children:"Action"})]})}),e.jsx(M,{children:s.map(a=>e.jsxs(N,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>l(`/governance/architecture-decisions/${a.id}`),children:[e.jsx(o,{className:"font-medium",children:a.title}),e.jsx(o,{children:e.jsx("span",{className:"text-[10px] font-bold uppercase text-muted-foreground",children:a.category.replace("_"," ")})}),e.jsx(o,{children:a.projectId}),e.jsx(o,{className:"text-sm",children:c(a.proposedBy)}),e.jsx(o,{children:r(a.riskLevel)}),e.jsx(o,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-1.5 w-12 bg-muted rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-primary",style:{width:`${a.impactScore}%`}})}),e.jsx("span",{className:"text-[10px] font-medium",children:a.impactScore})]})}),e.jsx(o,{children:t(a.decisionStatus)}),e.jsx(o,{className:"text-right",children:e.jsx("span",{className:"text-xs text-primary font-medium hover:underline px-2 py-1 rounded hover:bg-primary/5",onClick:p=>{p.stopPropagation(),l(`/governance/architecture-decisions/analyze/${a.id}`)},children:"Analyze â†’"})})]},a.id))})]})})]})}const v=["#2563eb","#eab308","#16a34a","#dc2626"];function Z({data:s}){return e.jsxs(d,{className:"col-span-1",children:[e.jsx(x,{children:e.jsx(m,{children:"Architecture Pipeline Status"})}),e.jsx(h,{children:e.jsx("div",{className:"h-[250px] w-full",children:e.jsx(f,{width:"100%",height:"100%",children:e.jsxs(U,{children:[e.jsx(W,{data:s,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:s.map((l,t)=>e.jsx(R,{fill:v[t%v.length]},`cell-${t}`))}),e.jsx(b,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),e.jsx(_,{verticalAlign:"bottom",height:36})]})})})})]})}const y=["#3b82f6","#10b981","#f59e0b","#ef4444"];function ee({data:s}){return e.jsxs(d,{className:"col-span-1",children:[e.jsx(x,{children:e.jsx(m,{children:"Architecture Impact Analysis"})}),e.jsx(h,{children:e.jsx("div",{className:"h-[250px] w-full",children:e.jsx(f,{width:"100%",height:"100%",children:e.jsxs(S,{data:s,children:[e.jsx(k,{strokeDasharray:"3 3",vertical:!1}),e.jsx(E,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:10}}),e.jsx(P,{axisLine:!1,tickLine:!1,tick:{fontSize:10},domain:[0,100]}),e.jsx(b,{cursor:{fill:"transparent"},contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),e.jsx(A,{dataKey:"score",radius:[4,4,0,0],children:s.map((l,t)=>e.jsx(R,{fill:y[t%y.length]},`cell-${t}`))})]})})})})]})}function se({data:s}){return e.jsxs(d,{className:"col-span-1",children:[e.jsx(x,{children:e.jsx(m,{children:"Core Tech Stack Adoption"})}),e.jsx(h,{children:e.jsx("div",{className:"h-[250px] w-full",children:e.jsx(f,{width:"100%",height:"100%",children:e.jsxs(S,{data:s,layout:"vertical",margin:{left:20},children:[e.jsx(k,{strokeDasharray:"3 3",horizontal:!1}),e.jsx(E,{type:"number",hide:!0}),e.jsx(P,{dataKey:"name",type:"category",axisLine:!1,tickLine:!1,tick:{fontSize:10},width:80}),e.jsx(b,{cursor:{fill:"transparent"},contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),e.jsx(A,{dataKey:"count",fill:"#10b981",radius:[0,4,4,0],barSize:20})]})})})})]})}function re(){return e.jsxs(d,{className:"col-span-full lg:col-span-2",children:[e.jsx(x,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(m,{children:"Global System Topology"}),e.jsx(i,{variant:"outline",className:"text-[10px] text-green-600 border-green-200 bg-green-50",children:"LIVE MODEL"})]})}),e.jsx(h,{children:e.jsxs("div",{className:"relative flex flex-col md:flex-row items-center justify-around gap-12 py-12 bg-muted/10 rounded-xl border border-dashed",children:[e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"p-4 rounded-full bg-blue-100 border-2 border-blue-500 shadow-lg shadow-blue-200",children:e.jsx(T,{className:"h-8 w-8 text-blue-600"})}),e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Inference Agents"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("div",{className:"h-1 w-4 bg-blue-400 rounded-full"}),e.jsx("div",{className:"h-1 w-4 bg-blue-400 rounded-full"}),e.jsx("div",{className:"h-1 w-4 bg-blue-400 rounded-full"})]})]}),e.jsx(j,{className:"hidden md:block h-6 w-6 text-muted-foreground opacity-30"}),e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"p-4 rounded-full bg-purple-100 border-2 border-purple-500 shadow-lg shadow-purple-200",children:e.jsx(L,{className:"h-8 w-8 text-purple-600"})}),e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Orchestration Layer"}),e.jsx(i,{variant:"secondary",className:"text-[8px]",children:"KAFKA / EVENT-DRIVEN"})]}),e.jsx(j,{className:"hidden md:block h-6 w-6 text-muted-foreground opacity-30"}),e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"p-4 rounded-full bg-green-100 border-2 border-green-500 shadow-lg shadow-green-200",children:e.jsx(F,{className:"h-8 w-8 text-green-600"})}),e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Core API Services"}),e.jsx(i,{variant:"secondary",className:"text-[8px]",children:"GO / GRPX"})]}),e.jsx(j,{className:"hidden md:block h-6 w-6 text-muted-foreground opacity-30"}),e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"p-4 rounded-full bg-orange-100 border-2 border-orange-500 shadow-lg shadow-orange-200",children:e.jsx(J,{className:"h-8 w-8 text-orange-600"})}),e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Data Persistence"}),e.jsxs("div",{className:"flex flex-col gap-1 items-center",children:[e.jsx("span",{className:"text-[8px] font-mono",children:"PINECONE (Vector)"}),e.jsx("span",{className:"text-[8px] font-mono",children:"POSTGRES (Relational)"})]})]}),e.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-2 bg-background p-2 rounded border shadow-sm",children:[e.jsx(g,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-[10px] font-bold",children:"SECURITY ENFORCED"})]})]})})]})}function te({decisions:s}){const l=s.flatMap(r=>{const c=[{id:`prop-${r.id}`,title:`Proposal: ${r.title}`,timestamp:r.createdAt,user:r.proposedBy,type:"PROPOSED"}];return r.decidedAt&&c.push({id:`dec-${r.id}`,title:`Final Decision: ${r.decisionStatus}`,timestamp:r.decidedAt,user:r.reviewedBy[0]||"Architecture Board",type:r.decisionStatus}),c}).sort((r,c)=>new Date(c.timestamp).getTime()-new Date(r.timestamp).getTime()),t=r=>{switch(r){case"PROPOSED":return e.jsx(Y,{className:"h-4 w-4 text-blue-500"});case"APPROVED":return e.jsx(X,{className:"h-4 w-4 text-green-500"});case"REJECTED":return e.jsx(D,{className:"h-4 w-4 text-red-500"});default:return e.jsx(C,{className:"h-4 w-4 text-yellow-500"})}};return e.jsxs(d,{className:"col-span-1",children:[e.jsx(x,{children:e.jsx(m,{children:"Architecture Evolution Log"})}),e.jsx(h,{children:e.jsx("div",{className:"space-y-6",children:l.map(r=>e.jsxs("div",{className:"relative pl-8 before:absolute before:left-[15px] before:top-2 before:bottom-[-24px] before:w-[2px] before:bg-muted last:before:hidden",children:[e.jsx("div",{className:"absolute left-0 top-1 rounded-full border bg-background p-1.5 z-10",children:t(r.type)}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-sm font-semibold",children:r.title}),e.jsx("span",{className:"text-[10px] text-muted-foreground",children:new Date(r.timestamp).toLocaleString()})]}),e.jsx("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:e.jsxs("span",{children:["Owner: ",e.jsx("span",{className:"text-foreground font-medium",children:r.user})]})})]})]},r.id))})})]})}const ae=({decision:s})=>{const l=w(),t=r=>{switch(r){case"CRITICAL":return"destructive";case"HIGH":return"destructive";case"MEDIUM":return"warning";case"LOW":return"secondary";default:return"outline"}};return e.jsxs(d,{className:"group hover:border-primary/50 transition-all cursor-pointer",onClick:()=>l(`/governance/architecture-decisions/${s.id}`),children:[e.jsxs(x,{className:"pb-2",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx(i,{variant:"outline",className:"text-[10px]",children:s.id}),e.jsx(i,{variant:t(s.riskLevel),children:s.riskLevel})]}),e.jsx(m,{className:"text-base group-hover:text-primary transition-colors",children:s.title}),e.jsx("span",{className:"text-[10px] font-bold uppercase text-muted-foreground",children:s.category.replace("_"," ")})]}),e.jsxs(h,{className:"pb-2",children:[e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 min-h-[40px]",children:s.description}),e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[10px] text-muted-foreground uppercase font-bold",children:"Impact Score"}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(I,{className:"w-3 h-3 text-primary"}),e.jsxs("span",{className:"text-sm font-bold",children:[s.impactScore,"/100"]})]})]}),e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("span",{className:"text-[10px] text-muted-foreground uppercase font-bold",children:"Status"}),e.jsx(i,{variant:"secondary",className:"text-[10px] h-5",children:s.decisionStatus})]})]})]}),e.jsx(z,{className:"pt-2 border-t bg-muted/5 group-hover:bg-primary/5 transition-colors",children:e.jsxs(O,{variant:"ghost",size:"sm",className:"w-full justify-between text-xs hover:bg-transparent p-0 h-auto",onClick:r=>{r.stopPropagation(),l(`/governance/architecture-decisions/analyze/${s.id}`)},children:[e.jsxs("span",{className:"flex items-center gap-1 text-primary",children:[e.jsx(g,{className:"w-3 h-3"}),"Analyze Deeply"]}),e.jsx(j,{className:"w-3 h-3 group-hover:translate-x-1 transition-transform"})]})})]})};function Te(){const{decisions:s,statusDistribution:l,impactData:t,techStackDistribution:r,metrics:c,isLoading:a}=B();if(a)return e.jsx("div",{children:"Loading Architectural Intelligence..."});const p=s?.filter(u=>u.impactScore>80).slice(0,3)||[];return e.jsxs("div",{className:"flex flex-col gap-6 p-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Architecture Governance"}),e.jsx("p",{className:"text-muted-foreground",children:"Strategic system design, scalability, and technical authority."})]}),e.jsx(q,{metrics:c}),e.jsx("div",{className:"grid gap-6 md:grid-cols-3",children:p.map(u=>e.jsx(ae,{decision:u},u.id))}),e.jsx(Q,{decisions:s||[]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsx(Z,{data:l}),e.jsx(ee,{data:t})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsx(se,{data:r}),e.jsx($,{})]}),e.jsx(re,{}),e.jsx(te,{decisions:s||[]})]})}export{Te as default};
