import{e as E,r as m,j as e,B as j,W as q,d as H,i as d,c as b,S as K,x as Q,K as D,k as J,l as T,C as Y,M as ee,N as se}from"./index-CyvJUZqR.js";import{C as S,a as k,b as B,c as y,d as ae}from"./card-9e5eR-TL.js";import{C as te}from"./cpu-D1kV5ECj.js";import{C as ie}from"./clock-BXrF9XKR.js";import{T as I}from"./terminal-Ds5tqkxs.js";import{C as le}from"./chevron-right-5aZEq8ip.js";import{C as ne}from"./copy-BhE0TJ9y.js";import{D as P}from"./download-BXaKmJWL.js";import{T as re}from"./trash-2-GPajQJ1z.js";import{M as U}from"./monitor-pZ40JyIb.js";import{R as G}from"./refresh-cw-Bx0G3C4A.js";import{C as de,S as z,a as A,b as O,c as R,d as p}from"./select-DMU1Mhcj.js";import{S as ce}from"./share-2-CGJo5Jac.js";import{D as W,a as M,b as _,c as $,d as X,e as oe}from"./dialog-CXSb95VD.js";import{E as xe}from"./external-link-CjI-hOui.js";import{S as me}from"./search-CyLX92Us.js";import{Z as he}from"./zap-CnivpesB.js";import{S as pe}from"./server-Dv38LmPL.js";import{I as F}from"./input-8HBaoNJU.js";import{C as ue}from"./circle-plus-D4K19VHs.js";import{L as ge}from"./loader-circle-CdsqdImE.js";import{v as L}from"./v4-EwEgHOG0.js";import{P as fe}from"./plus-BmaVqT4C.js";import{C as je}from"./circle-alert-BykDmaaL.js";import"./index-p66pR0EO.js";import"./chevron-down-DT8imn2m.js";const Ne=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]],ve=E("chart-no-axes-column-increasing",Ne);const we=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],be=E("maximize-2",we),C=[{id:"DB-001",name:"Frontend Demo Build",sandboxId:"SBX-101",agentResponsible:"AG-001",linkedWorkflow:"WF-2001",version:"v1.0.2",status:"SUCCESS",createdAt:"2026-02-12T09:30:00Z",updatedAt:"2026-02-12T10:00:00Z",previewUrl:"https://sandbox.ai-platform.com/preview/db-001",artifactLink:"/downloads/DB-001.zip",shareLink:"https://ai-platform.demo/DB-001",logs:["2026-02-12 09:30:00 - [INFO] Build started","2026-02-12 09:32:15 - [INFO] Installing dependencies","2026-02-12 09:35:40 - [INFO] Compiling source code","2026-02-12 09:45:10 - [INFO] Running unit tests","2026-02-12 09:55:00 - [INFO] Packaging artifacts","2026-02-12 10:00:00 - [INFO] Build successful"]},{id:"DB-002",name:"Backend API Demo Build",sandboxId:"SBX-102",agentResponsible:"AG-002",linkedWorkflow:"WF-2002",version:"v1.0.1",status:"FAILED",createdAt:"2026-02-12T11:00:00Z",updatedAt:"2026-02-12T11:30:00Z",previewUrl:"https://sandbox.ai-platform.com/preview/db-002",artifactLink:"/downloads/DB-002.zip",shareLink:"https://ai-platform.demo/DB-002",logs:["2026-02-12 11:00:00 - [INFO] Build started","2026-02-12 11:05:20 - [INFO] Validating schema","2026-02-12 11:15:45 - [ERROR] Dependency error: pg-native not found","2026-02-12 11:30:00 - [FATAL] Build failed"]},{id:"DB-003",name:"FullStack Demo Build",sandboxId:"SBX-101",agentResponsible:"AG-004",linkedWorkflow:"WF-2003",version:"v0.9.8",status:"IN_PROGRESS",createdAt:"2026-02-12T12:00:00Z",updatedAt:"2026-02-12T12:20:00Z",previewUrl:"https://sandbox.ai-platform.com/preview/db-003",artifactLink:"/downloads/DB-003.zip",shareLink:"https://ai-platform.demo/DB-003",logs:["2026-02-12 12:00:00 - [INFO] Build started","2026-02-12 12:05:00 - [INFO] Initializing environment","2026-02-12 12:15:00 - [INFO] Compiling backend modules","2026-02-12 12:20:00 - [INFO] Bundling frontend assets..."]}],Se=()=>{const[s,a]=m.useState([]),[r,i]=m.useState(null),[c,l]=m.useState(!0);m.useEffect(()=>{const t=setTimeout(()=>{a(C),C.length>0&&i(C[0].id),l(!1)},500);return()=>clearTimeout(t)},[]);const h=s.find(t=>t.id===r)||null,u={total:s.length,success:s.filter(t=>t.status==="SUCCESS").length,failed:s.filter(t=>t.status==="FAILED").length,inProgress:s.filter(t=>t.status==="IN_PROGRESS").length,successRate:s.length>0?Math.round(s.filter(t=>t.status==="SUCCESS").length/s.length*100):0,lastUpdated:s.length>0?[...s].sort((t,x)=>new Date(x.updatedAt).getTime()-new Date(t.updatedAt).getTime())[0]:null},o=m.useCallback(t=>{a(n=>[t,...n]),i(t.id);const x=["Dependency resolution complete","Compiling UI components...","Running semantic analysis","Optimizing build chunks","Build completed successfully"];x.forEach((n,f)=>{setTimeout(()=>{a(V=>V.map(v=>{if(v.id===t.id){const Z=f===x.length-1;return{...v,logs:[...v.logs,`${new Date().toISOString()} - [INFO] ${n}`],status:Z?"SUCCESS":"IN_PROGRESS",updatedAt:new Date().toISOString()}}return v}))},(f+1)*2e3)})},[]),g=m.useCallback(t=>{a(x=>x.map(n=>n.id===t?{...n,status:"IN_PROGRESS",updatedAt:new Date().toISOString(),logs:[`${new Date().toISOString()} - [INFO] Rebuild sequence initiated`]}:n)),setTimeout(()=>{a(x=>x.map(n=>n.id===t?{...n,logs:[...n.logs,`${new Date().toISOString()} - [INFO] Clean-up complete. Starting fresh build...`]}:n))},2e3),setTimeout(()=>{a(x=>x.map(n=>{if(n.id===t){const f=Math.random()>.1?"SUCCESS":"FAILED";return{...n,status:f,logs:[...n.logs,`${new Date().toISOString()} - [INFO] ${f==="SUCCESS"?"Rebuild successful":"Rebuild failed during bundling"}`],updatedAt:new Date().toISOString()}}return n}))},7e3)},[]),N=m.useCallback(t=>{a(x=>x.filter(n=>n.id!==t)),r===t&&i(null)},[r]);return{builds:s,selectedBuild:h,setSelectedBuildId:i,metrics:u,isLoading:c,addBuild:o,triggerRebuild:g,deleteBuild:N}},ye=({build:s,isSelected:a,onSelect:r})=>{const i=c=>{switch(c){case"SUCCESS":return e.jsx(j,{className:"bg-green-500/10 text-green-500 border-green-500/20 text-[10px]",children:"SUCCESS"});case"FAILED":return e.jsx(j,{variant:"destructive",className:"text-[10px]",children:"FAILED"});case"IN_PROGRESS":return e.jsx(j,{className:"bg-blue-500/10 text-blue-500 border-blue-500/20 text-[10px]",children:"BUILDING"});default:return null}};return e.jsxs(S,{className:b("cursor-pointer transition-all hover:border-primary/50",a?"border-primary ring-1 ring-primary/20":"shadow-sm"),onClick:()=>r(s.id),children:[e.jsx(k,{className:"pb-3 bg-muted/5",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(B,{className:"text-base font-bold",children:s.name}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{variant:"outline",className:"text-[10px] font-mono",children:s.version}),e.jsx("span",{className:"text-[10px] text-muted-foreground uppercase font-bold tracking-wider",children:s.id})]})]}),i(s.status)]})}),e.jsxs(y,{className:"py-4 space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"text-[10px] font-bold text-muted-foreground uppercase flex items-center gap-1",children:[e.jsx(te,{className:"w-3 h-3"})," Agent"]}),e.jsx("p",{className:"text-xs font-medium",children:s.agentResponsible})]}),e.jsxs("div",{className:"space-y-1 text-right",children:[e.jsxs("p",{className:"text-[10px] font-bold text-muted-foreground uppercase flex items-center justify-end gap-1",children:[e.jsx(q,{className:"w-3 h-3"})," Workflow"]}),e.jsx("p",{className:"text-xs font-medium",children:s.linkedWorkflow})]})]}),e.jsxs("div",{className:"pt-2 border-t border-dashed flex justify-between items-center text-[10px] text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ie,{className:"w-3 h-3"}),e.jsxs("span",{children:["Updated: ",new Date(s.updatedAt).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(H,{className:"w-3 h-3"}),e.jsxs("span",{children:["Sandbox: ",s.sandboxId]})]})]})]}),e.jsx(ae,{className:"pt-2 pb-2 bg-muted/5 flex justify-end",children:e.jsxs(d,{variant:"ghost",size:"sm",className:"h-7 text-[10px] gap-1 px-2",children:[e.jsx(I,{className:"w-3 h-3"}),"View Logs",e.jsx(le,{className:"w-3 h-3"})]})})]})},w=({title:s,value:a,icon:r,description:i,colorClass:c="text-primary"})=>e.jsxs(S,{children:[e.jsxs(k,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(B,{className:"text-sm font-medium text-muted-foreground uppercase tracking-wider",children:s}),e.jsx(r,{className:`h-4 w-4 ${c}`})]}),e.jsxs(y,{children:[e.jsx("div",{className:"text-2xl font-bold",children:a}),i&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1 truncate",children:i})]})]}),Ce=({build:s})=>s?e.jsxs(S,{className:"h-full flex flex-col shadow-md border-primary/10",children:[e.jsxs(k,{className:"pb-3 border-b bg-muted/10 flex flex-row items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{className:"w-4 h-4 text-primary"}),e.jsxs(B,{className:"text-sm font-bold uppercase tracking-tight",children:["Build Logs: ",s.id]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(d,{variant:"ghost",size:"icon",className:"h-7 w-7",children:e.jsx(ne,{className:"w-3.5 h-3.5"})}),e.jsx(d,{variant:"ghost",size:"icon",className:"h-7 w-7",children:e.jsx(P,{className:"w-3.5 h-3.5"})}),e.jsx(d,{variant:"ghost",size:"icon",className:"h-7 w-7",children:e.jsx(be,{className:"w-3.5 h-3.5"})})]})]}),e.jsx(y,{className:"p-0 flex-1 bg-zinc-950 font-mono text-[11px] leading-relaxed text-zinc-300",children:e.jsx(K,{className:"h-[500px] w-full p-4",children:e.jsxs("div",{className:"space-y-1",children:[s.logs.map((a,r)=>e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-zinc-600 select-none min-w-[20px]",children:r+1}),e.jsx("span",{className:b("whitespace-pre-wrap",a.includes("[ERROR]")||a.includes("[FATAL]")?"text-red-400":a.includes("[WARN]")?"text-yellow-400":"text-zinc-300"),children:a})]},r)),s.status==="IN_PROGRESS"&&e.jsxs("div",{className:"flex gap-3 animate-pulse",children:[e.jsx("span",{className:"text-zinc-600 select-none min-w-[20px]",children:s.logs.length+1}),e.jsx("span",{className:"text-primary",children:"Fetching latest logs..."})]})]})})}),e.jsxs("div",{className:"p-3 border-t bg-muted/5 flex justify-between items-center text-[10px] text-muted-foreground",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("span",{children:["Status: ",e.jsx("span",{className:b("font-bold",s.status==="SUCCESS"?"text-green-500":s.status==="FAILED"?"text-red-500":"text-blue-500"),children:s.status})]}),e.jsxs("span",{children:["Version: ",e.jsx("span",{className:"font-mono",children:s.version})]})]}),e.jsxs(d,{variant:"ghost",size:"sm",className:"h-6 text-[10px] text-destructive hover:bg-destructive/10",children:[e.jsx(re,{className:"w-3 h-3 mr-1"})," Clear Terminal"]})]})]}):e.jsx(S,{className:"h-full",children:e.jsxs(y,{className:"flex flex-col items-center justify-center h-[400px] text-muted-foreground",children:[e.jsx(I,{className:"w-12 h-12 opacity-10 mb-4"}),e.jsx("p",{children:"Select a build to view logs"})]})}),Ie=({build:s,onPreview:a,onRebuild:r})=>{const[i,c]=m.useState(!1),l=()=>{s&&(navigator.clipboard.writeText(s.shareLink),c(!0),setTimeout(()=>c(!1),2e3))},h=()=>{alert("Download started: "+(s?.artifactLink||"artifact.zip"))};return e.jsxs("div",{className:"flex flex-wrap gap-3 p-4 bg-muted/20 border rounded-xl shadow-inner",children:[e.jsxs(d,{className:"gap-2 bg-primary hover:bg-primary/90 shadow-md transition-all active:scale-95",disabled:!s||s.status!=="SUCCESS",onClick:a,children:[e.jsx(U,{className:"w-4 h-4"}),"Preview UI"]}),e.jsxs(d,{variant:"outline",className:"gap-2 bg-background hover:bg-muted transition-all active:scale-95",disabled:!s||s.status!=="SUCCESS",onClick:h,children:[e.jsx(P,{className:"w-4 h-4"}),"Download Artifact"]}),e.jsxs(d,{variant:"outline",className:"gap-2 bg-background hover:bg-muted transition-all active:scale-95",disabled:!s||s.status==="IN_PROGRESS",onClick:()=>s&&r(s.id),children:[e.jsx(G,{className:b("w-4 h-4",s?.status==="IN_PROGRESS"&&"animate-spin")}),"Trigger Rebuild"]}),e.jsxs(d,{variant:"outline",className:"gap-2 bg-background hover:bg-muted transition-all active:scale-95",disabled:!s,onClick:l,children:[i?e.jsx(de,{className:"w-4 h-4 text-green-500"}):e.jsx(ce,{className:"w-4 h-4"}),i?"Link Copied":"Share Build"]})]})},ke=({build:s,isOpen:a,onClose:r})=>s?e.jsx(W,{open:a,onOpenChange:r,children:e.jsxs(M,{className:"sm:max-w-[1100px] h-[85vh] flex flex-col p-0 overflow-hidden",children:[e.jsxs(_,{className:"p-4 border-b bg-muted/5 flex-row items-center justify-between space-y-0 shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(U,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{className:"text-lg font-bold",children:s.name}),e.jsx(j,{variant:"outline",className:"font-mono text-[10px]",children:s.version})]}),e.jsxs(X,{className:"text-[11px]",children:["Sandboxed Instance: ",e.jsx("span",{className:"font-mono",children:s.id})," â€¢ Pipeline Source: ",s.linkedWorkflow]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(d,{variant:"outline",size:"sm",className:"h-8 gap-2 text-xs",children:[e.jsx(G,{className:"w-3.5 h-3.5"}),"Hot Reload"]}),e.jsxs(d,{size:"sm",className:"h-8 gap-2 text-xs",onClick:()=>window.open(s.previewUrl,"_blank"),children:[e.jsx(xe,{className:"w-3.5 h-3.5"}),"Open Live"]})]})]}),e.jsx("div",{className:"flex-1 bg-zinc-200 p-4 overflow-hidden flex flex-col",children:e.jsxs("div",{className:"flex-1 bg-white rounded-xl shadow-2xl border border-zinc-300 flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"h-10 bg-zinc-100 border-b flex items-center px-4 gap-4 shrink-0",children:[e.jsxs("div",{className:"flex gap-1.5",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-red-400"}),e.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-400"}),e.jsx("div",{className:"w-3 h-3 rounded-full bg-green-400"})]}),e.jsxs("div",{className:"flex-1 flex items-center gap-2 bg-white rounded-md border border-zinc-200 px-3 py-1 text-[11px] text-zinc-400 font-mono overflow-hidden",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 shrink-0"}),e.jsx("span",{className:"truncate",children:s.previewUrl})]}),e.jsxs("div",{className:"flex gap-2 text-zinc-400",children:[e.jsx(me,{className:"w-3.5 h-3.5"}),e.jsx(Q,{className:"w-3.5 h-3.5"})]})]}),e.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[e.jsxs("div",{className:"w-48 bg-zinc-900 text-zinc-400 p-4 flex flex-col gap-6 shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-2 text-white font-bold text-sm mb-2",children:[e.jsx("div",{className:"w-6 h-6 bg-primary rounded flex items-center justify-center",children:e.jsx(he,{className:"w-4 h-4 text-white fill-current"})}),e.jsx("span",{children:"AI Portal"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 bg-white/10 text-white rounded-lg text-xs",children:[e.jsx(D,{className:"w-4 h-4"})," Dashboard"]}),e.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 hover:text-white transition-colors text-xs cursor-pointer",children:[e.jsx(J,{className:"w-4 h-4"})," User Base"]}),e.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 hover:text-white transition-colors text-xs cursor-pointer",children:[e.jsx(T,{className:"w-4 h-4"})," Node Status"]}),e.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 hover:text-white transition-colors text-xs cursor-pointer",children:[e.jsx(Y,{className:"w-4 h-4"})," Analytics"]})]}),e.jsxs("div",{className:"mt-auto pt-4 border-t border-white/5 space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 text-xs",children:[e.jsx(pe,{className:"w-4 h-4"})," Clusters"]}),e.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 text-xs",children:[e.jsx(ee,{className:"w-4 h-4"})," Alerts"]})]})]}),e.jsxs("div",{className:"flex-1 bg-zinc-50 overflow-y-auto p-6",children:[e.jsxs("div",{className:"flex justify-between items-end mb-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-black text-zinc-900 tracking-tight",children:"System Overview"}),e.jsx("p",{className:"text-xs text-zinc-500",children:"Welcome back, system monitoring is active."})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"h-8 w-24 bg-zinc-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 w-8 bg-zinc-200 rounded-full animate-pulse"})]})]}),e.jsx("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[1,2,3].map(i=>e.jsxs("div",{className:"p-4 bg-white rounded-xl border border-zinc-200 shadow-sm",children:[e.jsx("div",{className:"w-8 h-8 bg-zinc-100 rounded-lg mb-3"}),e.jsx("div",{className:"h-4 w-2/3 bg-zinc-100 rounded mb-2"}),e.jsx("div",{className:"h-6 w-1/3 bg-zinc-200 rounded"})]},i))}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"p-6 bg-white rounded-xl border border-zinc-200 shadow-sm h-64 flex flex-col",children:[e.jsxs("div",{className:"flex justify-between mb-6",children:[e.jsx("div",{className:"h-4 w-1/2 bg-zinc-100 rounded"}),e.jsx("div",{className:"h-4 w-1/4 bg-zinc-100 rounded"})]}),e.jsx("div",{className:"flex-1 flex items-end gap-2 px-2",children:[40,70,45,90,65,80,30,50,95,60].map((i,c)=>e.jsx("div",{className:"flex-1 bg-primary/20 rounded-t-sm transition-all hover:bg-primary",style:{height:`${i}%`}},c))})]}),e.jsxs("div",{className:"p-6 bg-white rounded-xl border border-zinc-200 shadow-sm h-64 space-y-4",children:[e.jsx("div",{className:"h-4 w-1/3 bg-zinc-100 rounded"}),e.jsx("div",{className:"space-y-3",children:[1,2,3,4].map(i=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-zinc-100"}),e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsx("div",{className:"h-2 w-1/2 bg-zinc-100 rounded"}),e.jsx("div",{className:"h-2 w-1/4 bg-zinc-50 rounded"})]})]},i))})]})]}),e.jsxs("div",{className:"mt-8 p-12 bg-white rounded-xl border border-zinc-200 border-dashed flex flex-col items-center text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-zinc-50 rounded-full flex items-center justify-center mb-4",children:e.jsx(D,{className:"w-6 h-6 text-zinc-300"})}),e.jsxs("p",{className:"text-sm font-medium text-zinc-400",children:["Additional modules loading from ",s.sandboxId,"..."]})]})]})]})]})})]})}):null,Be=({isOpen:s,onClose:a,onSubmit:r})=>{const[i,c]=m.useState(!1),[l,h]=m.useState({name:"",sandboxId:"SBX-101",agentId:"AG-001",workflowId:"WF-2001",version:"v1.0.0"}),u=o=>{o.preventDefault(),c(!0),setTimeout(()=>{const g={id:`DB-${Math.floor(Math.random()*900)+100}`,name:l.name,sandboxId:l.sandboxId,agentResponsible:l.agentId,linkedWorkflow:l.workflowId,version:l.version,status:"IN_PROGRESS",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),previewUrl:`https://sandbox.ai-platform.com/preview/${L().slice(0,8)}`,artifactLink:"/downloads/build.zip",shareLink:`https://ai-platform.demo/${L().slice(0,8)}`,logs:[`${new Date().toISOString()} - [INFO] Build initialized`]};r(g),c(!1),a(),h({name:"",sandboxId:"SBX-101",agentId:"AG-001",workflowId:"WF-2001",version:"v1.0.0"})},1e3)};return e.jsx(W,{open:s,onOpenChange:a,children:e.jsx(M,{className:"sm:max-w-[450px]",children:e.jsxs("form",{onSubmit:u,children:[e.jsxs(_,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ue,{className:"w-5 h-5 text-primary"}),e.jsx($,{children:"Initialize Demo Build"})]}),e.jsx(X,{children:"Configure and trigger a new immutable demo artifact."})]}),e.jsxs("div",{className:"grid gap-4 py-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Build Name"}),e.jsx(F,{required:!0,placeholder:"e.g. Q1 Stakeholder Demo",value:l.name,onChange:o=>h({...l,name:o.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Target Sandbox"}),e.jsxs(z,{value:l.sandboxId,onValueChange:o=>h({...l,sandboxId:o}),children:[e.jsx(A,{children:e.jsx(O,{})}),e.jsxs(R,{children:[e.jsx(p,{value:"SBX-101",children:"SBX-101 (Alpha)"}),e.jsx(p,{value:"SBX-102",children:"SBX-102 (Beta)"}),e.jsx(p,{value:"SBX-103",children:"SBX-103 (Dev)"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Version"}),e.jsx(F,{placeholder:"v1.0.0",value:l.version,onChange:o=>h({...l,version:o.target.value})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Responsible Agent"}),e.jsxs(z,{value:l.agentId,onValueChange:o=>h({...l,agentId:o}),children:[e.jsx(A,{children:e.jsx(O,{})}),e.jsxs(R,{children:[e.jsx(p,{value:"AG-001",children:"Frontend Architect (AG-001)"}),e.jsx(p,{value:"AG-002",children:"Backend Lead (AG-002)"}),e.jsx(p,{value:"AG-004",children:"UX Specialist (AG-004)"})]})]})]})]}),e.jsxs(oe,{children:[e.jsx(d,{type:"button",variant:"outline",onClick:a,disabled:i,children:"Cancel"}),e.jsx(d,{type:"submit",disabled:i,children:i?e.jsxs(e.Fragment,{children:[e.jsx(ge,{className:"w-4 h-4 mr-2 animate-spin"})," Starting..."]}):"Start Build Pipeline"})]})]})})})};function ss(){const{builds:s,selectedBuild:a,setSelectedBuildId:r,metrics:i,isLoading:c,addBuild:l,triggerRebuild:h}=Se(),[u,o]=m.useState(!1),[g,N]=m.useState(!1);return c?e.jsx("div",{className:"flex h-[400px] items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):e.jsxs("div",{className:"container mx-auto p-6 space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 border-b pb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Demo Builds"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Immutable build artifacts for stakeholder demos and regression testing."})]}),e.jsxs(d,{className:"gap-2 shadow-sm",onClick:()=>N(!0),children:[e.jsx(fe,{className:"w-4 h-4"}),"Initialize Build"]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(w,{title:"Total Builds",value:i.total,icon:se,colorClass:"text-blue-500"}),e.jsx(w,{title:"Success Rate",value:`${i.successRate}%`,icon:ve,colorClass:"text-green-500",description:"Overall pipeline stability"}),e.jsx(w,{title:"Active Builds",value:i.inProgress,icon:T,colorClass:"text-orange-500",description:"Builds currently running"}),e.jsx(w,{title:"Failed",value:i.failed,icon:je,colorClass:"text-red-500",description:"Action required"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between px-1",children:[e.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-muted-foreground",children:"Contextual Operations"}),a&&e.jsxs("span",{className:"text-xs text-muted-foreground",children:["Acting on: ",e.jsx("span",{className:"font-mono text-primary font-bold",children:a.id})]})]}),e.jsx(Ie,{build:a,onPreview:()=>o(!0),onRebuild:h})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:["Build Registry",e.jsx("span",{className:"text-xs font-medium px-2 py-0.5 bg-muted rounded-full text-muted-foreground",children:s.length})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(d,{variant:"outline",size:"sm",children:"Filter"}),e.jsx(d,{variant:"outline",size:"sm",children:"Sort"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.map(t=>e.jsx(ye,{build:t,isSelected:a?.id===t.id,onSelect:r},t.id)),s.length===0&&e.jsx("div",{className:"col-span-full text-center py-20 border-2 border-dashed rounded-xl",children:e.jsx("p",{className:"text-muted-foreground",children:"No demo builds found."})})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsx("div",{className:"sticky top-6",children:e.jsx(Ce,{build:a})})})]}),e.jsx(ke,{build:a,isOpen:u,onClose:()=>o(!1)}),e.jsx(Be,{isOpen:g,onClose:()=>N(!1),onSubmit:l})]})}export{ss as default};
