import{u as a}from"./useQuery-DOA-4dB4.js";const s=[{id:"REV-001",title:"Implement Authentication Middleware",projectId:"PRJ-1001",workflowId:"WF-2001",agentId:"AG-002",reviewerId:"SD-002",reviewType:"FEATURE",status:"APPROVED",qualityScore:92,defectCount:2,createdAt:"2024-03-20T10:00:00Z",reviewedAt:"2024-03-20T14:30:00Z",approvalId:"APP-001"},{id:"REV-002",title:"Fix Memory Leak in Data Parser",projectId:"PRJ-1002",workflowId:"WF-2002",agentId:"AG-001",reviewerId:"SD-001",reviewType:"BUG_FIX",status:"CHANGES_REQUESTED",qualityScore:65,defectCount:8,createdAt:"2024-03-21T09:00:00Z",reviewedAt:"2024-03-21T11:00:00Z"},{id:"REV-003",title:"Migration to Vector DB (ADR-001)",projectId:"PRJ-1001",workflowId:"WF-2003",agentId:"AG-004",reviewerId:"SD-001",reviewType:"ARCHITECTURE",status:"PENDING",qualityScore:0,defectCount:0,createdAt:"2024-03-22T08:30:00Z"},{id:"REV-004",title:"Emergency Security Patch - CSRF",projectId:"PRJ-1003",workflowId:"WF-2004",agentId:"AG-003",reviewerId:"SD-004",reviewType:"HOTFIX",status:"APPROVED",qualityScore:98,defectCount:0,createdAt:"2024-03-22T10:00:00Z",reviewedAt:"2024-03-22T10:45:00Z"},{id:"REV-005",title:"Optimize Frontend Rendering",projectId:"PRJ-1002",workflowId:"WF-2005",agentId:"AG-005",reviewerId:"SD-003",reviewType:"REFACTOR",status:"REJECTED",qualityScore:42,defectCount:15,createdAt:"2024-03-21T15:00:00Z",reviewedAt:"2024-03-21T17:00:00Z"}],d=[{id:"COM-001",reviewId:"REV-002",reviewer:"SD-001",comment:"Memory cleanup is missing in the catch block.",severity:"HIGH",timestamp:"2024-03-21T11:05:00Z"},{id:"COM-002",reviewId:"REV-002",reviewer:"SD-001",comment:"Variable naming could be more descriptive.",severity:"LOW",timestamp:"2024-03-21T11:07:00Z"},{id:"COM-003",reviewId:"REV-005",reviewer:"SD-003",comment:"Serious performance regressions detected in Chrome. Virtualization is broken.",severity:"HIGH",timestamp:"2024-03-21T17:05:00Z"}],c=[{reviewId:"REV-001",type:"CODE_SMELL",count:2},{reviewId:"REV-002",type:"PERFORMANCE",count:5},{reviewId:"REV-002",type:"TEST_COVERAGE",count:3},{reviewId:"REV-005",type:"PERFORMANCE",count:10},{reviewId:"REV-005",type:"SECURITY",count:2},{reviewId:"REV-005",type:"ARCHITECTURE",count:3}],I=()=>{const{data:t,isLoading:i}=a({queryKey:["code-reviews"],queryFn:async()=>s}),{data:n,isLoading:o}=a({queryKey:["review-comments"],queryFn:async()=>d}),{data:r,isLoading:u}=a({queryKey:["review-defects"],queryFn:async()=>c}),l={totalReviews:t?.length||0,pendingReviews:t?.filter(e=>e.status==="PENDING").length||0,approvedReviews:t?.filter(e=>e.status==="APPROVED").length||0,rejectedReviews:t?.filter(e=>e.status==="REJECTED").length||0},v=[{name:"Approved",value:t?.filter(e=>e.status==="APPROVED").length||0},{name:"Pending",value:t?.filter(e=>e.status==="PENDING").length||0},{name:"Changes Requested",value:t?.filter(e=>e.status==="CHANGES_REQUESTED").length||0},{name:"Rejected",value:t?.filter(e=>e.status==="REJECTED").length||0}],w=[{name:"Excellent (90-100)",value:t?.filter(e=>e.qualityScore>=90).length||0},{name:"Good (75-89)",value:t?.filter(e=>e.qualityScore>=75&&e.qualityScore<90).length||0},{name:"Risky (50-74)",value:t?.filter(e=>e.qualityScore>=50&&e.qualityScore<75).length||0},{name:"Critical (<50)",value:t?.filter(e=>e.qualityScore>0&&e.qualityScore<50).length||0}],E=t?.map(e=>({name:e.id,defects:e.defectCount,score:e.qualityScore}))||[];return{reviews:t,comments:n,defects:r,metrics:l,statusDistribution:v,qualityScoreDistribution:w,defectDensityData:E,aiVsHumanData:[{name:"AI Agents",value:75,reviews:45},{name:"Human Developers",value:25,reviews:15}],reviewerWorkload:[{name:"Alex Rivera",reviews:14},{name:"Sarah Chen",reviews:22},{name:"Marcus Thorne",reviews:18},{name:"Elena Rodriguez",reviews:12},{name:"David Kim",reviews:9}],isLoading:i||o||u}},f=t=>a({queryKey:["code-review",t],queryFn:async()=>{const i=s.find(r=>r.id===t);if(!i)throw new Error("Code review not found");const n=d.filter(r=>r.reviewId===t),o=c.filter(r=>r.reviewId===t);return{review:i,comments:n,defects:o}},enabled:!!t});export{f as a,I as u};
