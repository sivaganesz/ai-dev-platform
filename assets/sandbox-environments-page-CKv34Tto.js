import{e as L,r as o,j as e,B as x,y as w,T as R,f as W,g as P,h as G,W as C,i as l,z as k,D as A,E,H as I,I as T,o as V,l as N,J as H,d as z}from"./index-BCiwssk4.js";import{C as m,a as h,b as p,c as u,d as U}from"./card-BFKiiVyG.js";import{S as b}from"./separator-Cyuoti2e.js";import{C as v}from"./cpu-D_insEa0.js";import{C as D}from"./circle-check-2Punt13J.js";import{C as Z}from"./chevron-right-DekzC88G.js";import{C as j}from"./clock-BRr6Aeit.js";import{P as M}from"./play-BjBsGe-4.js";import{I as O}from"./info-BQhNYgZ_.js";import{C as _}from"./copy-BJU9y2uS.js";import{T as $}from"./trash-2-_zB9Fty9.js";import{I as g}from"./input-D6xA4H8f.js";import{C as J}from"./circle-plus-Bhi4gk7o.js";import{H as y}from"./history-BzVmeYr6.js";import{C as K}from"./circle-x-chh1iMyz.js";import{R as X,T as q}from"./CategoricalChart-Bh3gHgaB.js";import{P as Q,a as Y}from"./PieChart-BTIxHE1w.js";import{C as ee}from"./tooltipContext-CA0WRoRU.js";import{L as se}from"./Legend-CUv_hd-j.js";import{C as te}from"./circle-check-big-CceFqpnX.js";import{C as ae}from"./circle-alert-Jnhn6_R7.js";import"./ActiveShapeUtils-Dbbm0Wpw.js";import"./PolarChart-rQJjI9kN.js";const re=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],le=L("hard-drive",re),ne=[{id:"SB-001",name:"Frontend Sandbox",type:"Frontend",status:"ACTIVE",linkedAgents:["AG-001","AG-005"],linkedWorkflows:["WF-2001"],lastExecuted:"2026-02-12T10:30:00Z",recentTasks:["UI component test","Integration API call"]},{id:"SB-002",name:"Backend Sandbox",type:"Backend",status:"ACTIVE",linkedAgents:["AG-002"],linkedWorkflows:["WF-2002"],lastExecuted:"2026-02-12T11:00:00Z",recentTasks:["Database migration test","API endpoint test"]},{id:"SB-003",name:"FullStack Sandbox",type:"FullStack",status:"INACTIVE",linkedAgents:["AG-001","AG-003","AG-004"],linkedWorkflows:["WF-2003"],lastExecuted:"2026-02-11T16:45:00Z",recentTasks:[]},{id:"SB-004",name:"Microservice Sandbox",type:"Backend",status:"FAILED",lastExecuted:"2026-02-10T09:15:00Z",linkedAgents:["AG-006"],linkedWorkflows:["WF-2004"],recentTasks:["Deployment test"]}],ie=[{id:"ACT-001",sandboxId:"SB-001",sandboxName:"Frontend Sandbox",taskName:"UI component test",status:"SUCCESS",timestamp:"2026-02-12T10:30:00Z"},{id:"ACT-002",sandboxId:"SB-002",sandboxName:"Backend Sandbox",taskName:"API endpoint test",status:"SUCCESS",timestamp:"2026-02-12T11:00:00Z"},{id:"ACT-003",sandboxId:"SB-004",sandboxName:"Microservice Sandbox",taskName:"Deployment test",status:"FAILED",timestamp:"2026-02-10T09:15:00Z"},{id:"ACT-004",sandboxId:"SB-001",sandboxName:"Frontend Sandbox",taskName:"Integration API call",status:"SUCCESS",timestamp:"2026-02-12T09:45:00Z"},{id:"ACT-005",sandboxId:"SB-002",sandboxName:"Backend Sandbox",taskName:"Database migration test",status:"IN_PROGRESS",timestamp:"2026-02-12T11:15:00Z"}],de=()=>{const[s,t]=o.useState([]),[a,r]=o.useState([]),[i,f]=o.useState(!0);o.useEffect(()=>{const n=setTimeout(()=>{t(ne),r(ie),f(!1)},500);return()=>clearTimeout(n)},[]);const c={total:s.length,active:s.filter(n=>n.status==="ACTIVE").length,inactive:s.filter(n=>n.status==="INACTIVE").length,failed:s.filter(n=>n.status==="FAILED").length,lastExecutedWorkflow:s.length>0?[...s].sort((n,B)=>new Date(B.lastExecuted).getTime()-new Date(n.lastExecuted).getTime())[0].linkedWorkflows[0]:"N/A"},F=[{name:"Active",value:c.active,color:"#10b981"},{name:"Inactive",value:c.inactive,color:"#64748b"},{name:"Failed",value:c.failed,color:"#ef4444"}];return{environments:s,activities:a,metrics:c,healthData:F,isLoading:i}},S=({status:s})=>{const t=()=>{switch(s){case"ACTIVE":return"default";case"INACTIVE":return"secondary";case"FAILED":return"destructive";default:return"outline"}},a=()=>{switch(s){case"ACTIVE":return"bg-green-100 text-green-800 hover:bg-green-100 border-green-200";case"INACTIVE":return"bg-slate-100 text-slate-800 hover:bg-slate-100 border-slate-200";case"FAILED":return"bg-red-100 text-red-800 hover:bg-red-100 border-red-200";default:return""}};return e.jsx(x,{variant:t(),className:a(),children:s})},ce=({sandbox:s})=>e.jsxs(w,{children:[e.jsxs(m,{className:"group hover:border-primary/50 transition-all shadow-sm hover:shadow-md h-full flex flex-col",children:[e.jsx(h,{className:"pb-3 bg-muted/5",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(p,{className:"text-lg font-bold group-hover:text-primary transition-colors",children:s.name}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-wider",children:s.type}),e.jsx("span",{className:"text-[10px] text-muted-foreground",children:"â€¢"}),e.jsx("span",{className:"text-[10px] font-medium text-muted-foreground",children:s.id})]})]}),e.jsx(S,{status:s.status})]})}),e.jsxs(u,{className:"py-4 space-y-4 flex-1",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("p",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-tight flex items-center gap-1",children:[e.jsx(v,{className:"w-3 h-3"})," Linked Agents"]}),e.jsx("div",{className:"flex -space-x-2 overflow-hidden",children:e.jsx(R,{children:s.linkedAgents.map(t=>e.jsxs(W,{children:[e.jsx(P,{asChild:!0,children:e.jsx("div",{className:"inline-flex items-center justify-center w-6 h-6 rounded-full border-2 border-background bg-primary/10 text-primary text-[8px] font-bold cursor-default",children:t.split("-")[1]||t.slice(-3)})}),e.jsx(G,{children:e.jsx("p",{className:"text-[10px]",children:t})})]},t))})})]}),e.jsxs("div",{className:"space-y-1.5 text-right",children:[e.jsxs("p",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-tight flex items-center justify-end gap-1",children:[e.jsx(C,{className:"w-3 h-3"})," Workflows"]}),e.jsxs("p",{className:"text-sm font-bold text-foreground",children:[s.linkedWorkflows.length," Active"]})]})]}),e.jsxs("div",{className:"space-y-2 pt-2 border-t border-dashed",children:[e.jsxs("p",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-tight flex items-center gap-1",children:[e.jsx(D,{className:"w-3 h-3"})," Recent Tasks"]}),e.jsx("div",{className:"space-y-1",children:s.recentTasks.length>0?s.recentTasks.map((t,a)=>e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[e.jsx(Z,{className:"w-3 h-3 text-primary/50"}),e.jsx("span",{className:"truncate",children:t})]},a)):e.jsx("p",{className:"text-xs italic text-muted-foreground",children:"No recent tasks"})})]}),e.jsxs("div",{className:"flex items-center justify-between text-[10px] text-muted-foreground pt-2 border-t mt-auto",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(j,{className:"w-3 h-3"}),"Last Executed:"]}),e.jsx("span",{className:"font-medium text-foreground",children:new Date(s.lastExecuted).toLocaleDateString()})]})]}),e.jsxs(U,{className:"pt-3 border-t bg-muted/5 flex flex-col gap-2",children:[e.jsxs("div",{className:"flex w-full gap-2",children:[e.jsxs(l,{variant:"default",size:"sm",className:"flex-1 gap-1 h-8 bg-primary hover:bg-primary/90",children:[e.jsx(M,{className:"w-3 h-3 fill-current"}),"Run"]}),e.jsx(k,{asChild:!0,children:e.jsxs(l,{variant:"outline",size:"sm",className:"flex-1 gap-1 h-8",children:[e.jsx(O,{className:"w-3 h-3"}),"Details"]})})]}),e.jsxs("div",{className:"flex w-full gap-2",children:[e.jsxs(l,{variant:"ghost",size:"sm",className:"flex-1 h-8 gap-1 text-[10px] font-bold uppercase",children:[e.jsx(_,{className:"w-3 h-3"}),"Clone"]}),e.jsxs(l,{variant:"ghost",size:"sm",className:"flex-1 h-8 gap-1 text-[10px] font-bold uppercase text-destructive hover:text-destructive hover:bg-destructive/5",children:[e.jsx($,{className:"w-3 h-3"}),"Delete"]})]})]})]}),e.jsxs(A,{side:"right",className:"sm:max-w-[500px]",children:[e.jsxs(E,{children:[e.jsxs("div",{className:"flex justify-between items-center pr-6",children:[e.jsx(I,{className:"text-2xl font-bold",children:s.name}),e.jsx(S,{status:s.status})]}),e.jsx(T,{children:"Detailed configuration and execution state for this sandbox."})]}),e.jsxs("div",{className:"mt-8 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border space-y-1",children:[e.jsx("p",{className:"text-[10px] font-bold uppercase text-muted-foreground",children:"Environment ID"}),e.jsx("p",{className:"font-mono text-sm",children:s.id})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border space-y-1",children:[e.jsx("p",{className:"text-[10px] font-bold uppercase text-muted-foreground",children:"Type"}),e.jsx("p",{className:"font-semibold text-sm",children:s.type})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"text-sm font-bold flex items-center gap-2",children:[e.jsx(V,{className:"w-4 h-4 text-primary"}),"Governance & Execution"]}),e.jsxs("div",{className:"grid gap-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between py-1 border-b border-dashed",children:[e.jsx("span",{className:"text-muted-foreground",children:"Linked Workflows"}),e.jsx("span",{className:"font-medium",children:s.linkedWorkflows.join(", ")})]}),e.jsxs("div",{className:"flex justify-between py-1 border-b border-dashed",children:[e.jsx("span",{className:"text-muted-foreground",children:"Last Heartbeat"}),e.jsx("span",{className:"font-medium",children:new Date(s.lastExecuted).toLocaleString()})]})]})]}),e.jsx(b,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"text-sm font-bold flex items-center gap-2",children:[e.jsx(v,{className:"w-4 h-4 text-primary"}),"Connected Agents"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.linkedAgents.map(t=>e.jsx("div",{className:"px-3 py-1 bg-primary/10 text-primary border border-primary/20 rounded-full text-xs font-bold",children:t},t))})]}),e.jsx(b,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"text-sm font-bold flex items-center gap-2",children:[e.jsx(N,{className:"w-4 h-4 text-primary"}),"Real-time Metrics (Simulated)"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(j,{className:"w-4 h-4 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] uppercase font-bold text-muted-foreground",children:"Uptime"}),e.jsx("p",{className:"text-sm font-bold",children:"99.98%"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(le,{className:"w-4 h-4 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] uppercase font-bold text-muted-foreground",children:"Storage"}),e.jsx("p",{className:"text-sm font-bold",children:"1.2 GB / 10 GB"})]})]})]})]}),e.jsxs("div",{className:"pt-8 flex gap-3",children:[e.jsx(l,{className:"flex-1",children:"Restart Instance"}),e.jsx(l,{variant:"outline",className:"flex-1",children:"Purge Logs"})]})]})]})]}),oe=({environments:s})=>s.length===0?e.jsx("div",{className:"text-center py-20 border-2 border-dashed rounded-xl col-span-full",children:e.jsx("p",{className:"text-muted-foreground",children:"No sandbox environments found. Create one to get started."})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.map(t=>e.jsx(ce,{sandbox:t},t.id))}),xe=()=>e.jsxs(w,{children:[e.jsx(k,{asChild:!0,children:e.jsxs(l,{className:"gap-2",children:[e.jsx(J,{className:"w-4 h-4"}),"Create Environment"]})}),e.jsxs(A,{side:"right",className:"sm:max-w-[400px]",children:[e.jsxs(E,{children:[e.jsx(I,{children:"Create Sandbox Environment"}),e.jsx(T,{children:"Deploy a new isolated environment for testing and simulation."})]}),e.jsxs("div",{className:"grid gap-4 py-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Environment Name"}),e.jsx(g,{placeholder:"e.g. Beta Testing - V2"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Type"}),e.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[e.jsx("option",{children:"Frontend"}),e.jsx("option",{children:"Backend"}),e.jsx("option",{children:"FullStack"}),e.jsx("option",{children:"Microservice"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Owner"}),e.jsx(g,{placeholder:"Senior Developer ID"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Link Agents (Optional)"}),e.jsx(g,{placeholder:"Comma separated IDs (AG-001, AG-002)"})]})]}),e.jsx(H,{children:e.jsx(l,{type:"submit",className:"w-full",children:"Initialize Sandbox"})})]})]}),d=({title:s,value:t,icon:a,description:r,trend:i,colorClass:f="text-primary"})=>e.jsxs(m,{children:[e.jsxs(h,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(p,{className:"text-sm font-medium text-muted-foreground uppercase tracking-wider",children:s}),e.jsx(a,{className:`h-4 w-4 ${f}`})]}),e.jsxs(u,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t}),r&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:r}),i&&e.jsx("div",{className:`text-xs mt-1 font-medium ${i.positive?"text-green-500":"text-red-500"}`,children:i.value})]})]}),me=({activities:s})=>{const t=r=>{switch(r){case"SUCCESS":return e.jsx(D,{className:"w-4 h-4 text-green-500"});case"FAILED":return e.jsx(K,{className:"w-4 h-4 text-red-500"});case"IN_PROGRESS":return e.jsx(j,{className:"w-4 h-4 text-blue-500 animate-spin"});default:return null}},a=r=>{switch(r){case"SUCCESS":return e.jsx(x,{className:"bg-green-500/10 text-green-500 border-green-500/20 text-[10px] h-4",children:"SUCCESS"});case"FAILED":return e.jsx(x,{variant:"destructive",className:"text-[10px] h-4",children:"FAILED"});case"IN_PROGRESS":return e.jsx(x,{className:"bg-blue-500/10 text-blue-500 border-blue-500/20 text-[10px] h-4",children:"IN PROGRESS"});default:return null}};return e.jsxs(m,{className:"shadow-sm",children:[e.jsx(h,{className:"pb-3 border-b bg-muted/10",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(y,{className:"w-4 h-4 text-primary"}),e.jsx(p,{className:"text-sm font-bold uppercase tracking-tight",children:"Recent Activities"})]})}),e.jsx(u,{className:"p-0",children:e.jsxs("div",{className:"divide-y",children:[s.map(r=>e.jsxs("div",{className:"p-4 hover:bg-muted/50 transition-colors",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"mt-0.5",children:t(r.status)}),e.jsx("span",{className:"text-sm font-bold leading-none",children:r.taskName})]}),a(r.status)]}),e.jsxs("div",{className:"flex flex-col gap-1.5 ml-6",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground font-medium",children:[e.jsx("span",{children:"Sandbox:"}),e.jsx("span",{className:"text-foreground px-1.5 py-0.5 bg-muted rounded text-[10px]",children:r.sandboxName})]}),e.jsx("span",{className:"text-[10px] text-muted-foreground uppercase tracking-wider",children:new Date(r.timestamp).toLocaleString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]},r.id)),s.length===0&&e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(y,{className:"w-8 h-8 text-muted-foreground/20 mx-auto mb-3"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"No recent activities recorded."})]})]})})]})},he=({data:s})=>e.jsxs(m,{className:"h-full",children:[e.jsx(h,{className:"pb-2 border-b bg-muted/5",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{className:"w-4 h-4 text-primary"}),e.jsx(p,{className:"text-sm font-bold uppercase tracking-tight",children:"Environment Health"})]})}),e.jsxs(u,{className:"pt-6",children:[e.jsx("div",{className:"h-[250px] w-full",children:e.jsx(X,{width:"100%",height:"100%",children:e.jsxs(Q,{children:[e.jsx(Y,{data:s,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:s.map((t,a)=>e.jsx(ee,{fill:t.color},`cell-${a}`))}),e.jsx(q,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),e.jsx(se,{verticalAlign:"bottom",height:36})]})})}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx("p",{className:"text-xs text-muted-foreground italic",children:"Visual feedback on overall sandbox environment stability."})})]})]});function Pe(){const{environments:s,activities:t,metrics:a,healthData:r,isLoading:i}=de();return i?e.jsx("div",{className:"flex h-[400px] items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):e.jsxs("div",{className:"container mx-auto p-6 space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 border-b pb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Sandbox Environments"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Strategic testing grounds for AI execution, workflows, and frontend validation."})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx(xe,{})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsx(d,{title:"Total Sandboxes",value:a.total,icon:z,colorClass:"text-blue-500"}),e.jsx(d,{title:"Active",value:a.active,icon:te,colorClass:"text-green-500",trend:{value:"+2 from last week",positive:!0}}),e.jsx(d,{title:"Inactive",value:a.inactive,icon:N,colorClass:"text-slate-500"}),e.jsx(d,{title:"Failed",value:a.failed,icon:ae,colorClass:"text-red-500"}),e.jsx(d,{title:"Last Workflow",value:a.lastExecutedWorkflow,icon:C,colorClass:"text-purple-500",description:"Most recent execution"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:["Managed Environments",e.jsx("span",{className:"text-xs font-medium px-2 py-0.5 bg-muted rounded-full text-muted-foreground",children:s.length})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(l,{variant:"outline",size:"sm",children:"Filter"}),e.jsx(l,{variant:"outline",size:"sm",children:"Sort"})]})]}),e.jsx(oe,{environments:s})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsx(he,{data:r}),e.jsx(me,{activities:t})]})]})]})}export{Pe as default};
