import{e as p,j as e,a4 as h,b as u,B as j,O as d,i as x}from"./index-BCiwssk4.js";import{u as f}from"./useQuery-DHQUI4b3.js";import{C as n,a as o,b as r,c as i}from"./card-BFKiiVyG.js";import{C as g}from"./coins-B87KENS_.js";import{Z as N}from"./zap-Dn1r8E0t.js";import{R as y,T as C}from"./CategoricalChart-Bh3gHgaB.js";import{A as b,a as w}from"./AreaChart-DkaUR0_l.js";import{C as A}from"./CartesianGrid-baeG5ejF.js";import{X as k,Y as T}from"./CartesianChart-CtP7DrOF.js";import{T as v,a as E,b as m,c as l,d as B,e as c}from"./table-BNWkvk0r.js";import{T as I}from"./trending-down-DplvAfQ3.js";import{T as P}from"./trending-up-DJe_v3mt.js";import{P as D}from"./progress-Dcq2j96H.js";import{D as O}from"./dollar-sign-DruBhz2B.js";import{A as S}from"./arrow-up-right-BmPlxYoF.js";import{T as F}from"./triangle-alert-DWyxYOT3.js";import{S as L}from"./share-2-B7jU6fuc.js";import{D as M}from"./download-DWz5rC0s.js";import"./ActivePoints-DrrfsG2v.js";import"./getRadiusAndStrokeWidthFromDot-DFUTjtTE.js";import"./graphicalItemSelectors-DMoC6oeC.js";const R=[["path",{d:"M5 12h14",key:"1ays0h"}]],U=p("minus",R);const G=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],H=p("wallet",G),_={id:"BILL-001",month:"Feb 2026",tokensUsed:24e5,totalCost:482.3,topAgent:"Backend Agent",apiCalls:45200,activeAgents:12,costByProvider:{OpenAI:320.15,Anthropic:162.15}},V=[{date:"2026-02-08",tokens:15e4},{date:"2026-02-09",tokens:18e4},{date:"2026-02-10",tokens:32e4},{date:"2026-02-11",tokens:24e4},{date:"2026-02-12",tokens:21e4},{date:"2026-02-13",tokens:45e4},{date:"2026-02-14",tokens:85e4}],W=[{id:"CB-001",category:"AGENT",name:"Backend Agent",tokens:85e4,cost:145.2,trend:"UP"},{id:"CB-002",category:"AGENT",name:"Frontend Agent",tokens:42e4,cost:84.5,trend:"STABLE"},{id:"CB-003",category:"WORKFLOW",name:"Main CI Pipeline",tokens:35e4,cost:62.4,trend:"DOWN"},{id:"CB-004",category:"SANDBOX",name:"API Simulation Env",tokens:28e4,cost:45.1,trend:"UP"},{id:"CB-005",category:"DEPLOYMENT",name:"Production Rollout",tokens:15e4,cost:32.8,trend:"STABLE"}],Z=[{agentId:"AG-001",agentName:"Frontend Agent",executionCount:154,avgCostPerExecution:.55,totalCost:84.5},{agentId:"AG-002",agentName:"Backend Agent",executionCount:210,avgCostPerExecution:.69,totalCost:145.2},{agentId:"AG-003",agentName:"QA Agent",executionCount:85,avgCostPerExecution:.42,totalCost:35.7},{agentId:"AG-004",agentName:"DevOps Agent",executionCount:42,avgCostPerExecution:1.15,totalCost:48.3}],$=[{id:"EV-001",date:"2026-02-14T09:00:00Z",type:"LIMIT_REACHED",description:"Daily soft limit (80%) reached for Backend Agent."},{id:"EV-002",date:"2026-02-01T00:00:00Z",type:"INVOICE",amount:1240.5,description:"Monthly invoice for January 2026 generated."},{id:"EV-003",date:"2026-01-25T15:00:00Z",type:"QUOTA_INCREASE",description:"OpenAI GPT-4o token quota increased to 10M per month."},{id:"EV-004",date:"2026-01-02T10:30:00Z",type:"PAYMENT",amount:1240.5,description:"Automatic payment for December 2025 successful."}];function z(){return f({queryKey:["usage-billing-data"],queryFn:async()=>(await new Promise(t=>setTimeout(t,500)),{summary:_,usageTrend:V,costBreakdown:W,agentAnalysis:Z,history:$})})}function Y({summary:t}){return e.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[e.jsxs(n,{children:[e.jsxs(o,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(r,{className:"text-[10px] font-bold uppercase tracking-wider text-muted-foreground",children:"Tokens Consumed"}),e.jsx(g,{className:"h-4 w-4 text-primary"})]}),e.jsxs(i,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[(t.tokensUsed/1e6).toFixed(1),"M"]}),e.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[t.month," usage"]})]})]}),e.jsxs(n,{children:[e.jsxs(o,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(r,{className:"text-[10px] font-bold uppercase tracking-wider text-muted-foreground",children:"Total Operational Cost"}),e.jsx(h,{className:"h-4 w-4 text-green-500"})]}),e.jsxs(i,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:["$",t.totalCost.toFixed(2)]}),e.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Current month total"})]})]}),e.jsxs(n,{children:[e.jsxs(o,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(r,{className:"text-[10px] font-bold uppercase tracking-wider text-muted-foreground",children:"API Orchestration"}),e.jsx(N,{className:"h-4 w-4 text-yellow-500"})]}),e.jsxs(i,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t.apiCalls.toLocaleString()}),e.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Total calls made"})]})]}),e.jsxs(n,{children:[e.jsxs(o,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(r,{className:"text-[10px] font-bold uppercase tracking-wider text-muted-foreground",children:"Active Agents"}),e.jsx(u,{className:"h-4 w-4 text-blue-500"})]}),e.jsxs(i,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t.activeAgents}),e.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Contributing to cost"})]})]})]})}function q({data:t}){return e.jsxs(n,{className:"col-span-full lg:col-span-2",children:[e.jsx(o,{children:e.jsx(r,{className:"text-sm font-bold",children:"Token Consumption Trend"})}),e.jsx(i,{children:e.jsx("div",{className:"h-[240px] w-full",children:e.jsx(y,{width:"100%",height:"100%",children:e.jsxs(b,{data:t,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorTokens",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})}),e.jsx(A,{strokeDasharray:"3 3",vertical:!1,stroke:"#f0f0f0"}),e.jsx(k,{dataKey:"date",fontSize:10,tickLine:!1,axisLine:!1,tickFormatter:a=>a.split("-").slice(1).join("/")}),e.jsx(T,{fontSize:10,tickLine:!1,axisLine:!1,tickFormatter:a=>`${(a/1e3).toFixed(0)}k`}),e.jsx(C,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",fontSize:"10px"}}),e.jsx(w,{type:"monotone",dataKey:"tokens",stroke:"#10b981",strokeWidth:2,fillOpacity:1,fill:"url(#colorTokens)"})]})})})})]})}function K({data:t}){const a=s=>{switch(s){case"UP":return e.jsx(P,{className:"h-3 w-3 text-red-500"});case"DOWN":return e.jsx(I,{className:"h-3 w-3 text-green-500"});default:return e.jsx(U,{className:"h-3 w-3 text-muted-foreground"})}};return e.jsx("div",{className:"rounded-md border",children:e.jsxs(v,{children:[e.jsx(E,{children:e.jsxs(m,{children:[e.jsx(l,{className:"text-[10px] font-bold uppercase",children:"Category"}),e.jsx(l,{className:"text-[10px] font-bold uppercase",children:"Resource Name"}),e.jsx(l,{className:"text-[10px] font-bold uppercase text-right",children:"Tokens"}),e.jsx(l,{className:"text-[10px] font-bold uppercase text-right",children:"Cost"}),e.jsx(l,{className:"w-[50px]"})]})}),e.jsx(B,{children:t.map(s=>e.jsxs(m,{children:[e.jsx(c,{children:e.jsx(j,{variant:"outline",className:"text-[9px] h-4",children:s.category})}),e.jsx(c,{className:"text-xs font-medium",children:s.name}),e.jsx(c,{className:"text-right text-xs font-mono",children:s.tokens.toLocaleString()}),e.jsxs(c,{className:"text-right text-xs font-bold",children:["$",s.cost.toFixed(2)]}),e.jsx(c,{children:a(s.trend)})]},s.id))})]})})}function Q({agents:t}){const a=Math.max(...t.map(s=>s.totalCost));return e.jsxs(n,{children:[e.jsx(o,{children:e.jsxs(r,{className:"text-sm font-bold flex items-center gap-2",children:[e.jsx(u,{className:"h-4 w-4"}),"Agent Efficiency Analysis"]})}),e.jsx(i,{className:"space-y-6",children:t.map(s=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs font-semibold",children:s.agentName}),e.jsxs("span",{className:"text-xs font-bold",children:["$",s.totalCost.toFixed(2)]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(D,{value:s.totalCost/a*100,className:"h-1.5"}),e.jsxs("div",{className:"flex justify-between text-[9px] text-muted-foreground uppercase font-bold tracking-tighter",children:[e.jsxs("span",{children:[s.executionCount," executions"]}),e.jsxs("span",{className:"flex items-center gap-0.5",children:[e.jsx(O,{className:"h-2 w-2"}),s.avgCostPerExecution.toFixed(2)," / exec"]})]})]})]},s.agentId))})]})}function X({history:t}){const a=s=>{switch(s){case"INVOICE":return e.jsx(d,{className:"h-4 w-4 text-blue-500"});case"PAYMENT":return e.jsx(h,{className:"h-4 w-4 text-green-500"});case"LIMIT_REACHED":return e.jsx(F,{className:"h-4 w-4 text-red-500"});case"QUOTA_INCREASE":return e.jsx(S,{className:"h-4 w-4 text-primary"});default:return e.jsx(d,{className:"h-4 w-4 text-muted-foreground"})}};return e.jsxs(n,{children:[e.jsx(o,{children:e.jsx(r,{className:"text-sm font-bold",children:"Billing & Financial History"})}),e.jsx(i,{className:"space-y-6",children:t.map(s=>e.jsxs("div",{className:"flex gap-4 group",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"p-2 rounded-full bg-muted group-hover:bg-muted/80 transition-colors",children:a(s.type)}),e.jsx("div",{className:"w-px flex-1 bg-muted mt-2"})]}),e.jsxs("div",{className:"flex-1 pb-6 space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs font-bold",children:s.type.replace("_"," ")}),e.jsx("span",{className:"text-[10px] text-muted-foreground",children:new Date(s.date).toLocaleDateString()})]}),e.jsx("p",{className:"text-[11px] text-muted-foreground leading-relaxed",children:s.description}),s.amount&&e.jsxs(j,{variant:"secondary",className:"text-[10px] mt-2",children:["Amount: $",s.amount.toFixed(2)]})]})]},s.id))})]})}function ye(){const{data:t,isLoading:a}=z();return a?e.jsx("div",{className:"flex items-center justify-center h-full text-sm font-mono",children:"Calculating consumption & costs..."}):e.jsxs("div",{className:"flex-1 space-y-4 p-4 pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{className:"h-6 w-6 text-primary"}),e.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"FinOps & Consumption"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(x,{variant:"outline",size:"sm",children:[e.jsx(L,{className:"mr-2 h-4 w-4"}),"Share Report"]}),e.jsxs(x,{size:"sm",children:[e.jsx(M,{className:"mr-2 h-4 w-4"}),"Download Invoice"]})]})]}),e.jsx(Y,{summary:t?.summary}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsx(q,{data:t?.usageTrend||[]}),e.jsxs(n,{children:[e.jsx(o,{children:e.jsx(r,{className:"text-sm font-bold uppercase tracking-widest text-muted-foreground",children:"Detailed Cost Allocation"})}),e.jsx(i,{children:e.jsx(K,{data:t?.costBreakdown||[]})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(Q,{agents:t?.agentAnalysis||[]}),e.jsx(X,{history:t?.history||[]})]})]})]})}export{ye as default};
