import{e as T,j as e,B as c,T as C,f as R,g as G,c as u,h as k,S as E,G as P,m as L,C as D,u as O,l as M,R as U,n as Z,o as F}from"./index-BCiwssk4.js";import{u as B}from"./useQuery-DHQUI4b3.js";import{a as q,b as H,B as _}from"./agentsData-BL6p0Sjk.js";import{C as i,a as n,b as d,c as o}from"./card-BFKiiVyG.js";import{P as v}from"./progress-Dcq2j96H.js";import{S as w}from"./share-2-B7jU6fuc.js";import{A as W}from"./arrow-right-_BOSjZVa.js";import{C as K}from"./circle-Ki2SbgTu.js";import{C as A}from"./circle-alert-Jnhn6_R7.js";import{C as I}from"./circle-check-2Punt13J.js";import{C as S}from"./clock-BRr6Aeit.js";import{C as J}from"./circle-x-chh1iMyz.js";import{A as X}from"./arrow-right-left-BgdymnwE.js";import{S as Q}from"./send-CWh5jGjx.js";import{T as z,a as V,b,c as N,d as Y,e as j}from"./table-BNWkvk0r.js";import{T as $}from"./target-DCPg9c0O.js";import{R as ee,T as te}from"./CategoricalChart-Bh3gHgaB.js";import{A as se,a as ae}from"./AreaChart-DkaUR0_l.js";import{C as re}from"./CartesianGrid-baeG5ejF.js";import{X as ie,Y as ne}from"./CartesianChart-CtP7DrOF.js";import{S as de}from"./shield-alert-lnTdjJbd.js";import"./ActivePoints-DrrfsG2v.js";import"./getRadiusAndStrokeWidthFromDot-DFUTjtTE.js";import"./graphicalItemSelectors-DMoC6oeC.js";const oe=[["path",{d:"M10.1 2.182a10 10 0 0 1 3.8 0",key:"5ilxe3"}],["path",{d:"M13.9 21.818a10 10 0 0 1-3.8 0",key:"11zvb9"}],["path",{d:"M17.609 3.721a10 10 0 0 1 2.69 2.7",key:"1iw5b2"}],["path",{d:"M2.182 13.9a10 10 0 0 1 0-3.8",key:"c0bmvh"}],["path",{d:"M20.279 17.609a10 10 0 0 1-2.7 2.69",key:"1ruxm7"}],["path",{d:"M21.818 10.1a10 10 0 0 1 0 3.8",key:"qkgqxc"}],["path",{d:"M3.721 6.391a10 10 0 0 1 2.7-2.69",key:"1mcia2"}],["path",{d:"M6.391 20.279a10 10 0 0 1-2.69-2.7",key:"1fvljs"}]],le=T("circle-dashed",oe);const ce=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],me=T("inbox",ce),xe={"AG-001":{agentId:"AG-001",nodes:[{id:"fe-1",agentId:"AG-001",stageName:"UX Design",inputArtifact:"Figma Link",outputArtifact:"UI Specs",status:"COMPLETED",timestamp:"2026-02-13T09:00:00Z"},{id:"fe-2",agentId:"AG-001",stageName:"UI Implementation",inputArtifact:"UI Specs",outputArtifact:"JSX/CSS",status:"COMPLETED",timestamp:"2026-02-13T10:00:00Z"},{id:"fe-3",agentId:"AG-001",stageName:"Component Development",inputArtifact:"JSX/CSS",outputArtifact:"React Components",status:"IN_PROGRESS",timestamp:"2026-02-13T11:00:00Z"},{id:"fe-4",agentId:"AG-001",stageName:"State Integration",inputArtifact:"React Components",outputArtifact:"Wired UI",status:"PENDING",timestamp:""},{id:"fe-5",agentId:"AG-001",stageName:"API Binding",inputArtifact:"Wired UI",outputArtifact:"Functional Frontend",status:"PENDING",timestamp:""},{id:"fe-6",agentId:"AG-001",stageName:"Handoff → Backend",inputArtifact:"Functional Frontend",outputArtifact:"Integration Contract",status:"PENDING",timestamp:""}],edges:[{fromStageId:"fe-1",toStageId:"fe-2",handoffType:"INTERNAL"},{fromStageId:"fe-2",toStageId:"fe-3",handoffType:"INTERNAL"},{fromStageId:"fe-3",toStageId:"fe-4",handoffType:"INTERNAL"},{fromStageId:"fe-4",toStageId:"fe-5",handoffType:"INTERNAL"},{fromStageId:"fe-5",toStageId:"fe-6",handoffType:"EXTERNAL"}]},"AG-002":{agentId:"AG-002",nodes:[{id:"be-1",agentId:"AG-002",stageName:"Receives UI Contracts",inputArtifact:"UI Contract",outputArtifact:"API Spec",status:"COMPLETED",timestamp:"2026-02-13T10:30:00Z"},{id:"be-2",agentId:"AG-002",stageName:"API Development",inputArtifact:"API Spec",outputArtifact:"REST Endpoints",status:"COMPLETED",timestamp:"2026-02-13T11:30:00Z"},{id:"be-3",agentId:"AG-002",stageName:"Business Logic",inputArtifact:"REST Endpoints",outputArtifact:"Services",status:"IN_PROGRESS",timestamp:"2026-02-13T12:00:00Z"},{id:"be-4",agentId:"AG-002",stageName:"Database Integration",inputArtifact:"Services",outputArtifact:"Data Layer",status:"PENDING",timestamp:""},{id:"be-5",agentId:"AG-002",stageName:"Security Implementation",inputArtifact:"Data Layer",outputArtifact:"Secure API",status:"PENDING",timestamp:""},{id:"be-6",agentId:"AG-002",stageName:"Handoff → QA",inputArtifact:"Secure API",outputArtifact:"QA Build",status:"PENDING",timestamp:""}],edges:[{fromStageId:"be-1",toStageId:"be-2",handoffType:"INTERNAL"},{fromStageId:"be-2",toStageId:"be-3",handoffType:"INTERNAL"},{fromStageId:"be-3",toStageId:"be-4",handoffType:"INTERNAL"},{fromStageId:"be-4",toStageId:"be-5",handoffType:"INTERNAL"},{fromStageId:"be-5",toStageId:"be-6",handoffType:"EXTERNAL"}]},"AG-003":{agentId:"AG-003",nodes:[{id:"qa-1",agentId:"AG-003",stageName:"Receives Build",inputArtifact:"Dev Build",outputArtifact:"Test Environment",status:"COMPLETED",timestamp:"2026-02-13T11:15:00Z"},{id:"qa-2",agentId:"AG-003",stageName:"Test Case Generation",inputArtifact:"Requirements",outputArtifact:"Test Suite",status:"COMPLETED",timestamp:"2026-02-13T12:00:00Z"},{id:"qa-3",agentId:"AG-003",stageName:"Automation Execution",inputArtifact:"Test Suite",outputArtifact:"Execution Results",status:"IN_PROGRESS",timestamp:"2026-02-13T12:30:00Z"},{id:"qa-4",agentId:"AG-003",stageName:"Bug Detection",inputArtifact:"Execution Results",outputArtifact:"Bug Reports",status:"PENDING",timestamp:""},{id:"qa-5",agentId:"AG-003",stageName:"Regression Testing",inputArtifact:"Fixes",outputArtifact:"Stability Report",status:"PENDING",timestamp:""},{id:"qa-6",agentId:"AG-003",stageName:"Validation Report",inputArtifact:"Full Results",outputArtifact:"Quality Sign-off",status:"PENDING",timestamp:""}],edges:[{fromStageId:"qa-1",toStageId:"qa-2",handoffType:"INTERNAL"},{fromStageId:"qa-2",toStageId:"qa-3",handoffType:"INTERNAL"},{fromStageId:"qa-3",toStageId:"qa-4",handoffType:"INTERNAL"},{fromStageId:"qa-4",toStageId:"qa-5",handoffType:"INTERNAL"},{fromStageId:"qa-5",toStageId:"qa-6",handoffType:"INTERNAL"}]},"AG-004":{agentId:"AG-004",nodes:[{id:"do-1",agentId:"AG-004",stageName:"QA Approved Build",inputArtifact:"QA Sign-off",outputArtifact:"Release Candidate",status:"COMPLETED",timestamp:"2026-02-12T16:00:00Z"},{id:"do-2",agentId:"AG-004",stageName:"CI Pipeline Trigger",inputArtifact:"RC",outputArtifact:"Build Artifacts",status:"COMPLETED",timestamp:"2026-02-12T16:30:00Z"},{id:"do-3",agentId:"AG-004",stageName:"Containerization",inputArtifact:"Artifacts",outputArtifact:"Docker Images",status:"COMPLETED",timestamp:"2026-02-12T16:45:00Z"},{id:"do-4",agentId:"AG-004",stageName:"Infra Provisioning",inputArtifact:"IaC Scripts",outputArtifact:"Cloud Resources",status:"COMPLETED",timestamp:"2026-02-12T17:00:00Z"},{id:"do-5",agentId:"AG-004",stageName:"Deployment Release",inputArtifact:"Images",outputArtifact:"Live App",status:"COMPLETED",timestamp:"2026-02-12T17:30:00Z"},{id:"do-6",agentId:"AG-004",stageName:"Monitoring & Alerts",inputArtifact:"Live App",outputArtifact:"Metrics/Logs",status:"IN_PROGRESS",timestamp:"2026-02-12T18:00:00Z"}],edges:[{fromStageId:"do-1",toStageId:"do-2",handoffType:"INTERNAL"},{fromStageId:"do-2",toStageId:"do-3",handoffType:"INTERNAL"},{fromStageId:"do-3",toStageId:"do-4",handoffType:"INTERNAL"},{fromStageId:"do-4",toStageId:"do-5",handoffType:"INTERNAL"},{fromStageId:"do-5",toStageId:"do-6",handoffType:"INTERNAL"}]},"AG-005":{agentId:"AG-005",nodes:[{id:"ux-1",agentId:"AG-005",stageName:"Requirement Intake",inputArtifact:"User Stories",outputArtifact:"Product Brief",status:"COMPLETED",timestamp:"2026-02-13T08:00:00Z"},{id:"ux-2",agentId:"AG-005",stageName:"User Research",inputArtifact:"Product Brief",outputArtifact:"User Personas",status:"COMPLETED",timestamp:"2026-02-13T08:30:00Z"},{id:"ux-3",agentId:"AG-005",stageName:"Wireframe Creation",inputArtifact:"Personas",outputArtifact:"Low-fi Wireframes",status:"COMPLETED",timestamp:"2026-02-13T09:00:00Z"},{id:"ux-4",agentId:"AG-005",stageName:"Design System Setup",inputArtifact:"Wireframes",outputArtifact:"UI Kit",status:"IN_PROGRESS",timestamp:"2026-02-13T09:30:00Z"},{id:"ux-5",agentId:"AG-005",stageName:"Accessibility Review",inputArtifact:"UI Kit",outputArtifact:"Audit Report",status:"PENDING",timestamp:""},{id:"ux-6",agentId:"AG-005",stageName:"Handoff → Frontend",inputArtifact:"Final Designs",outputArtifact:"Figma Assets",status:"PENDING",timestamp:""}],edges:[{fromStageId:"ux-1",toStageId:"ux-2",handoffType:"INTERNAL"},{fromStageId:"ux-2",toStageId:"ux-3",handoffType:"INTERNAL"},{fromStageId:"ux-3",toStageId:"ux-4",handoffType:"INTERNAL"},{fromStageId:"ux-4",toStageId:"ux-5",handoffType:"INTERNAL"},{fromStageId:"ux-5",toStageId:"ux-6",handoffType:"EXTERNAL"}]}},pe={"AG-001":[{taskId:"TSK-3001",workflowId:"WF-2001",projectId:"PRJ-1001",taskName:"Dashboard Component Library",priority:"HIGH",status:"IN_PROGRESS",startedAt:"2026-02-13T10:00:00Z"},{taskId:"TSK-3002",workflowId:"WF-2001",projectId:"PRJ-1001",taskName:"Navigation State Integration",priority:"MEDIUM",status:"IN_PROGRESS",startedAt:"2026-02-13T11:00:00Z"},{taskId:"TSK-3003",workflowId:"WF-2001",projectId:"PRJ-1001",taskName:"Login UI Refinement",priority:"LOW",status:"COMPLETED",startedAt:"2026-02-13T09:00:00Z"}],"AG-002":[{taskId:"TSK-4001",workflowId:"WF-2001",projectId:"PRJ-1001",taskName:"User Authentication Service",priority:"HIGH",status:"IN_PROGRESS",startedAt:"2026-02-13T11:30:00Z"},{taskId:"TSK-4002",workflowId:"WF-2001",projectId:"PRJ-1001",taskName:"Data Migration Script",priority:"MEDIUM",status:"BLOCKED",startedAt:"2026-02-13T10:00:00Z"}],"AG-003":[{taskId:"TSK-5001",workflowId:"WF-2002",projectId:"PRJ-1001",taskName:"Security Audit Regression",priority:"HIGH",status:"IN_PROGRESS",startedAt:"2026-02-13T12:30:00Z"}],"AG-004":[{taskId:"TSK-6001",workflowId:"WF-2001",projectId:"PRJ-1001",taskName:"Kubernetes Cluster Scaling",priority:"HIGH",status:"IN_PROGRESS",startedAt:"2026-02-13T14:00:00Z"}],"AG-005":[{taskId:"TSK-7001",workflowId:"WF-2001",projectId:"PRJ-1002",taskName:"Sales App User Journey Map",priority:"HIGH",status:"COMPLETED",startedAt:"2026-02-13T08:00:00Z"}]},ue={"AG-001":[{id:"tl-1",stageName:"UI Implementation",duration:"45m",status:"SUCCESS",timestamp:"2026-02-13T10:00:00Z"},{id:"tl-2",stageName:"UX Design Review",duration:"30m",status:"SUCCESS",timestamp:"2026-02-13T09:00:00Z"},{id:"tl-3",stageName:"API Integration",duration:"15m",status:"FAILURE",timestamp:"2026-02-12T16:00:00Z",errorDetails:"Endpoint unreachable"}],"AG-002":[{id:"tl-4",stageName:"API Development",duration:"1h 20m",status:"SUCCESS",timestamp:"2026-02-13T11:30:00Z"},{id:"tl-5",stageName:"Auth Schema Design",duration:"40m",status:"SUCCESS",timestamp:"2026-02-13T10:30:00Z"}],"AG-003":[{id:"tl-6",stageName:"Automation Suite Generation",duration:"25m",status:"SUCCESS",timestamp:"2026-02-13T12:00:00Z"},{id:"tl-7",stageName:"Build Acceptance",duration:"10m",status:"SUCCESS",timestamp:"2026-02-13T11:15:00Z"}],"AG-004":[{id:"tl-8",stageName:"Cloud Infra Setup",duration:"15m",status:"SUCCESS",timestamp:"2026-02-12T17:00:00Z"},{id:"tl-9",stageName:"Docker Containerization",duration:"12m",status:"SUCCESS",timestamp:"2026-02-12T16:45:00Z"}],"AG-005":[{id:"tl-10",stageName:"User Research Analysis",duration:"2h",status:"SUCCESS",timestamp:"2026-02-13T08:30:00Z"},{id:"tl-11",stageName:"Product Briefing",duration:"30m",status:"SUCCESS",timestamp:"2026-02-13T08:00:00Z"}]},fe={"AG-001":{received:45,delivered:42,downstreamAgent:"Backend Agent",artifactType:"UI Contracts"},"AG-002":{received:42,delivered:38,downstreamAgent:"QA Agent",artifactType:"REST APIs"},"AG-003":{received:38,delivered:35,downstreamAgent:"DevOps Agent",artifactType:"QA Approved Build"},"AG-004":{received:35,delivered:35,downstreamAgent:"Production",artifactType:"Live Release"},"AG-005":{received:15,delivered:12,downstreamAgent:"Frontend Agent",artifactType:"Figma Assets"}};function ge(a){return B({queryKey:["agent-data",a],queryFn:async()=>{await new Promise(m=>setTimeout(m,500));const t=q.find(m=>m.agentId===a),x=H.filter(m=>m.agentId===a),r=xe[a],s=pe[a]||[],p=ue[a]||[],f=fe[a],g=t?.workflowIds.map(m=>({workflowId:m,stageName:r?.nodes.find(h=>h.status==="IN_PROGRESS")?.stageName||"Idle",executions:t.workflowIds.length>0?t.executionCount/t.workflowIds.length:0,status:t.status==="Active"?"ACTIVE":"IDLE"}))||[];return{agent:t,activities:x,flow:r,tasks:s,timeline:p,handoff:f,workflows:g}}})}function he({nodes:a,edges:t}){const x=s=>{switch(s){case"COMPLETED":return e.jsx(I,{className:"h-5 w-5 text-green-500"});case"IN_PROGRESS":return e.jsx(le,{className:"h-5 w-5 text-blue-500 animate-spin"});case"FAILED":return e.jsx(A,{className:"h-5 w-5 text-red-500"});case"PENDING":return e.jsx(K,{className:"h-5 w-5 text-muted-foreground"})}},r=s=>{switch(s){case"COMPLETED":return"bg-green-500/10 border-green-500/20";case"IN_PROGRESS":return"bg-blue-500/10 border-blue-500/50 ring-2 ring-blue-500/20";case"FAILED":return"bg-red-500/10 border-red-500/20";case"PENDING":return"bg-muted/50 border-muted"}};return e.jsxs(i,{className:"w-full overflow-hidden",children:[e.jsx(n,{children:e.jsxs(d,{className:"text-lg font-semibold flex items-center gap-2",children:["Role Execution Flow",e.jsx(c,{variant:"secondary",className:"text-[10px] uppercase tracking-wider",children:"Lifecycle Model"})]})}),e.jsx(o,{className:"overflow-x-auto pb-6",children:e.jsx("div",{className:"flex items-center min-w-max gap-0 py-4 px-2",children:e.jsx(C,{children:a.map((s,p)=>{const f=t.find(g=>g.fromStageId===s.id);return e.jsxs("div",{className:"flex items-center",children:[e.jsxs(R,{children:[e.jsx(G,{asChild:!0,children:e.jsxs("div",{className:u("flex flex-col items-center gap-2 p-4 rounded-xl border transition-all cursor-default w-40 relative",r(s.status)),children:[x(s.status),e.jsx("span",{className:"text-xs font-bold text-center line-clamp-2 h-8 flex items-center",children:s.stageName}),s.timestamp&&e.jsx("span",{className:"text-[9px] text-muted-foreground absolute -bottom-5",children:new Date(s.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})}),e.jsx(k,{className:"w-64 p-3",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"font-bold border-b pb-1",children:s.stageName}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-[11px]",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground uppercase font-bold text-[9px]",children:"Input"}),e.jsx("p",{className:"truncate",children:s.inputArtifact})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground uppercase font-bold text-[9px]",children:"Output"}),e.jsx("p",{className:"truncate",children:s.outputArtifact})]})]}),e.jsx(c,{variant:"outline",className:"w-full justify-center py-0 text-[10px]",children:s.status})]})})]}),p<a.length-1&&e.jsx("div",{className:"flex flex-col items-center px-2",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:u("h-[2px] w-8",s.status==="COMPLETED"?"bg-green-500":"bg-muted")}),f?.handoffType==="EXTERNAL"?e.jsxs("div",{className:"relative group",children:[e.jsx(w,{className:"h-4 w-4 text-primary animate-pulse mx-1"}),e.jsx("span",{className:"absolute -top-6 left-1/2 -translate-x-1/2 text-[9px] font-bold text-primary opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:"ROLE HANDOFF"})]}):e.jsx(W,{className:u("h-4 w-4 mx-1",s.status==="COMPLETED"?"text-green-500":"text-muted-foreground")}),e.jsx("div",{className:u("h-[2px] w-8",a[p+1].status==="COMPLETED"||a[p+1].status==="IN_PROGRESS"?"bg-primary/50":"bg-muted")})]})})]},s.id)})})})})]})}function Ne({tasks:a}){const t=r=>{switch(r){case"IN_PROGRESS":return e.jsx(S,{className:"h-4 w-4 text-blue-500 animate-pulse"});case"BLOCKED":return e.jsx(A,{className:"h-4 w-4 text-red-500"});case"COMPLETED":return e.jsx(I,{className:"h-4 w-4 text-green-500"})}},x=r=>{switch(r){case"HIGH":return"bg-red-500/10 text-red-500 border-red-500/20";case"MEDIUM":return"bg-yellow-500/10 text-yellow-500 border-yellow-500/20";case"LOW":return"bg-blue-500/10 text-blue-500 border-blue-500/20"}};return e.jsxs(i,{className:"flex-1",children:[e.jsx(n,{children:e.jsxs(d,{className:"text-lg font-semibold flex items-center justify-between",children:["Active Execution Tasks",e.jsxs(c,{variant:"outline",children:[a.filter(r=>r.status==="IN_PROGRESS").length," Running"]})]})}),e.jsx(o,{children:e.jsx("div",{className:"space-y-4",children:a.map(r=>e.jsxs("div",{className:"p-3 rounded-lg border bg-muted/30 space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-bold",children:r.taskName}),e.jsxs("p",{className:"text-[10px] text-muted-foreground font-mono",children:[r.taskId," • ",r.workflowId]})]}),e.jsx(c,{variant:"outline",className:u("text-[9px]",x(r.priority)),children:r.priority})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[t(r.status),e.jsx("span",{className:"text-[11px] font-medium uppercase tracking-wider",children:r.status.replace("_"," ")})]}),e.jsxs("span",{className:"text-[10px] text-muted-foreground",children:["Started: ",new Date(r.startedAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),r.status==="IN_PROGRESS"&&e.jsx(v,{value:45,className:"h-1"})]},r.taskId))})})]})}function je({timeline:a}){return e.jsxs(i,{className:"flex-1",children:[e.jsx(n,{children:e.jsx(d,{className:"text-lg font-semibold flex items-center gap-2",children:"Execution Lifecycle Timeline"})}),e.jsx(o,{children:e.jsx(E,{className:"h-[350px] pr-4",children:e.jsx("div",{className:"relative space-y-6 before:absolute before:inset-0 before:ml-5 before:-translate-x-px before:h-full before:w-0.5 before:bg-gradient-to-b before:from-transparent before:via-muted before:to-transparent",children:a.map(t=>e.jsxs("div",{className:"relative flex items-start gap-6",children:[e.jsx("div",{className:u("flex h-10 w-10 shrink-0 items-center justify-center rounded-full border bg-background shadow-sm z-10",t.status==="SUCCESS"?"border-green-500/50":"border-red-500/50"),children:t.status==="SUCCESS"?e.jsx(I,{className:"h-5 w-5 text-green-500"}):e.jsx(J,{className:"h-5 w-5 text-red-500"})}),e.jsxs("div",{className:"flex flex-1 flex-col gap-1 py-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm font-bold leading-none",children:t.stageName}),e.jsx("span",{className:"text-[10px] text-muted-foreground font-mono",children:new Date(t.timestamp).toLocaleDateString()})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[e.jsx(S,{className:"h-3 w-3"}),e.jsxs("span",{children:["Duration: ",t.duration]}),e.jsx("span",{children:"•"}),e.jsx(c,{variant:"outline",className:u("text-[9px] py-0",t.status==="SUCCESS"?"text-green-500":"text-red-500"),children:t.status})]}),t.errorDetails&&e.jsxs("p",{className:"mt-2 text-[11px] text-red-500/80 bg-red-500/5 p-2 rounded border border-red-500/10 italic",children:["Error: ",t.errorDetails]})]})]},t.id))})})})]})}function Ae({stats:a}){return e.jsxs(i,{className:"flex-1",children:[e.jsx(n,{children:e.jsxs(d,{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(X,{className:"h-5 w-5 text-primary"}),"Handoff Intelligence"]})}),e.jsxs(o,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-6 pb-6 border-b",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(me,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs uppercase font-bold tracking-wider",children:"Received"})]}),e.jsx("p",{className:"text-3xl font-bold",children:a.received}),e.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Tasks from upstream roles"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(Q,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs uppercase font-bold tracking-wider",children:"Delivered"})]}),e.jsx("p",{className:"text-3xl font-bold text-primary",children:a.delivered}),e.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Artifacts to downstream"})]})]}),e.jsxs("div",{className:"pt-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx(w,{className:"h-4 w-4 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold uppercase text-muted-foreground tracking-tighter",children:"Downstream Target"}),e.jsx("p",{className:"text-sm font-bold",children:a.downstreamAgent})]})]}),e.jsx(c,{variant:"outline",className:"bg-primary/5 border-primary/20 text-primary uppercase text-[9px]",children:"Active Handoff"})]}),e.jsxs("div",{className:"p-3 rounded-lg bg-muted/30 border space-y-1",children:[e.jsx("p",{className:"text-[10px] uppercase font-bold text-muted-foreground",children:"Contract Type"}),e.jsx("p",{className:"text-xs font-medium",children:a.artifactType})]})]})]})]})}function Ie({workflows:a}){return e.jsxs(i,{className:"w-full",children:[e.jsx(n,{children:e.jsxs(d,{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(P,{className:"h-5 w-5 text-primary"}),"Workflow Execution Mapping"]})}),e.jsx(o,{children:e.jsxs(z,{children:[e.jsx(V,{children:e.jsxs(b,{className:"hover:bg-transparent",children:[e.jsx(N,{className:"text-[10px] uppercase font-bold",children:"Workflow ID"}),e.jsx(N,{className:"text-[10px] uppercase font-bold",children:"Stage Ownership"}),e.jsx(N,{className:"text-[10px] uppercase font-bold",children:"Execution Count"}),e.jsx(N,{className:"text-[10px] uppercase font-bold text-right",children:"State"})]})}),e.jsx(Y,{children:a.map(t=>e.jsxs(b,{className:"group cursor-default",children:[e.jsx(j,{children:e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(c,{variant:"outline",className:"font-mono text-[10px]",children:t.workflowId})})}),e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{className:"h-3 w-3 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-medium",children:t.stageName})]})}),e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-3 w-3 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-medium",children:t.executions})]})}),e.jsx(j,{className:"text-right",children:e.jsx(c,{variant:t.status==="ACTIVE"?"default":"secondary",className:"text-[9px]",children:t.status})})]},t.workflowId))})]})})]})}const Se={frontend:"AG-001",backend:"AG-002",qa:"AG-003",devops:"AG-004",ux:"AG-005"},be=[{time:"08:00",load:12},{time:"09:00",load:18},{time:"10:00",load:45},{time:"11:00",load:32},{time:"12:00",load:56},{time:"13:00",load:48},{time:"14:00",load:64}];function Xe(){const{agentType:a}=O(),t=a?Se[a.toLowerCase()]:null,{data:x,isLoading:r}=ge(t||"");if(r)return e.jsx("div",{className:"flex h-[400px] items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Synchronizing agent execution state..."})]})});if(!x?.agent)return e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(A,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold",children:"Agent Not Found"}),e.jsx("p",{className:"text-muted-foreground",children:"The agent you are looking for does not exist."})]});const{agent:s,activities:p,flow:f,tasks:g,timeline:m,handoff:h,workflows:y}=x;return e.jsxs("div",{className:"p-6 space-y-8",children:[e.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_,{className:"h-6 w-6 text-primary"}),e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:s.agentName}),e.jsx(c,{variant:"outline",className:"bg-green-500/10 text-green-500 border-green-500/20",children:s.status})]}),e.jsxs("p",{className:"text-muted-foreground font-mono text-sm",children:[s.agentId," • ",s.agentType]})]})}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[e.jsxs(i,{children:[e.jsx(n,{className:"pb-2",children:e.jsxs(d,{className:"text-xs font-bold text-muted-foreground uppercase tracking-widest flex items-center gap-2",children:[e.jsx($,{className:"h-3.5 w-3.5"})," Success Rate"]})}),e.jsxs(o,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[s.successRate,"%"]}),e.jsx(v,{value:s.successRate,className:"h-1 mt-2"})]})]}),e.jsxs(i,{children:[e.jsx(n,{className:"pb-2",children:e.jsxs(d,{className:"text-xs font-bold text-muted-foreground uppercase tracking-widest flex items-center gap-2",children:[e.jsx(M,{className:"h-3.5 w-3.5"})," Total Executions"]})}),e.jsxs(o,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s.executionCount}),e.jsx("p",{className:"text-[10px] text-muted-foreground mt-1",children:"Lifetime operations"})]})]}),e.jsxs(i,{children:[e.jsx(n,{className:"pb-2",children:e.jsxs(d,{className:"text-xs font-bold text-muted-foreground uppercase tracking-widest flex items-center gap-2",children:[e.jsx(S,{className:"h-3.5 w-3.5"})," Avg completion"]})}),e.jsxs(o,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s.avgCompletionTime}),e.jsx("p",{className:"text-[10px] text-muted-foreground mt-1",children:"Per atomic task"})]})]}),e.jsxs(i,{children:[e.jsx(n,{className:"pb-2",children:e.jsxs(d,{className:"text-xs font-bold text-muted-foreground uppercase tracking-widest flex items-center gap-2",children:[e.jsx(U,{className:"h-3.5 w-3.5"})," Deployment Linked"]})}),e.jsxs(o,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s.deploymentLinked?"ACTIVE":"N/A"}),e.jsx("p",{className:"text-[10px] text-muted-foreground mt-1",children:"Release participation"})]})]})]}),e.jsxs(i,{children:[e.jsx(n,{children:e.jsx(d,{className:"text-lg font-semibold",children:"Execution Load Trend"})}),e.jsx(o,{children:e.jsx("div",{className:"h-[200px] w-full",children:e.jsx(ee,{width:"100%",height:"100%",children:e.jsxs(se,{data:be,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorLoad",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"hsl(var(--primary))",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"hsl(var(--primary))",stopOpacity:0})]})}),e.jsx(re,{strokeDasharray:"3 3",vertical:!1,stroke:"hsl(var(--muted-foreground))",opacity:.1}),e.jsx(ie,{dataKey:"time",axisLine:!1,tickLine:!1,tick:{fontSize:10}}),e.jsx(ne,{hide:!0}),e.jsx(te,{contentStyle:{backgroundColor:"hsl(var(--background))",borderColor:"hsl(var(--border))"},itemStyle:{color:"hsl(var(--primary))"}}),e.jsx(ae,{type:"monotone",dataKey:"load",stroke:"hsl(var(--primary))",fillOpacity:1,fill:"url(#colorLoad)"})]})})})})]}),f&&e.jsx(he,{nodes:f.nodes,edges:f.edges}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsx(Ne,{tasks:g}),e.jsx(je,{timeline:m})]}),s.agentId==="AG-003"&&e.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[e.jsxs(i,{className:"bg-green-500/5 border-green-500/20",children:[e.jsx(n,{className:"pb-2",children:e.jsxs(d,{className:"text-xs font-bold text-green-600 flex items-center gap-2 uppercase tracking-wider",children:[e.jsx(Z,{className:"h-4 w-4"}),"Passed Tests"]})}),e.jsx(o,{children:e.jsx("div",{className:"text-2xl font-bold text-green-700",children:"1,245"})})]}),e.jsxs(i,{className:"bg-red-500/5 border-red-500/20",children:[e.jsx(n,{className:"pb-2",children:e.jsxs(d,{className:"text-xs font-bold text-red-600 flex items-center gap-2 uppercase tracking-wider",children:[e.jsx(de,{className:"h-4 w-4"}),"Failed Tests"]})}),e.jsx(o,{children:e.jsx("div",{className:"text-2xl font-bold text-red-700",children:"12"})})]}),e.jsxs(i,{className:"bg-orange-500/5 border-orange-500/20",children:[e.jsx(n,{className:"pb-2",children:e.jsxs(d,{className:"text-xs font-bold text-orange-600 flex items-center gap-2 uppercase tracking-wider",children:[e.jsx(F,{className:"h-4 w-4"}),"Blocking Defects"]})}),e.jsx(o,{children:e.jsx("div",{className:"text-2xl font-bold text-orange-700",children:"2"})})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[e.jsx("div",{className:"md:col-span-1",children:h&&e.jsx(Ae,{stats:h})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(Ie,{workflows:y})})]}),e.jsxs(i,{children:[e.jsx(n,{children:e.jsx(d,{children:"Global Activity Intelligence"})}),e.jsx(o,{children:e.jsx(E,{className:"h-[300px] pr-4",children:e.jsx("div",{className:"space-y-4",children:p.length>0?p.map(l=>e.jsxs("div",{className:"flex items-start justify-between border-b pb-4 last:border-0",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-medium text-sm",children:l.action}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Task: ",l.taskId," • Workflow: ",l.workflowId]}),e.jsx("p",{className:"text-[10px] text-muted-foreground",children:new Date(l.timestamp).toLocaleString()})]}),e.jsxs("div",{className:"text-right space-y-1",children:[e.jsx(c,{variant:l.status==="Completed"?"default":l.status==="In Progress"?"outline":"destructive",className:u("text-[9px]",l.status==="In Progress"&&"bg-blue-500/10 text-blue-500 border-blue-500/20"),children:l.status}),e.jsx("p",{className:"text-[10px] text-muted-foreground font-mono",children:l.duration})]})]},l.activityId)):e.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No recent activities detected"})})})})]})]})}export{Xe as default};
