import{j as e,B as i,l as x,b as f,G as o,M as N,c as g,i as y}from"./index-CyvJUZqR.js";import{u as v}from"./useQuery-DOA-4dB4.js";import{C as r,a as n,b as l,c}from"./card-9e5eR-TL.js";import{P as u}from"./progress-DPoL9SyL.js";import{C as p}from"./circle-x-DJq7SFxD.js";import{T as h}from"./triangle-alert-BFLjuX3_.js";import{C as j}from"./circle-check-LM3MRdPF.js";import{R as w,T as A}from"./CategoricalChart-WJAmy3lP.js";import{B as T,a as b}from"./BarChart-gLJDjHRP.js";import{C}from"./CartesianGrid-BmRwr4Ov.js";import{X as I,Y as L}from"./CartesianChart-Kxs-tJ8o.js";import{C as S}from"./tooltipContext-BhFxnOuu.js";import{C as k}from"./cpu-D1kV5ECj.js";import{C as D}from"./clock-BXrF9XKR.js";import{P as E}from"./play-D5t8TkLq.js";import{I as R}from"./info-C8vcny6T.js";import{C as H}from"./circle-alert-BykDmaaL.js";import{T as M,a as P,b as m,c as G}from"./tabs-D3p3EBKe.js";import{R as B}from"./refresh-cw-Bx0G3C4A.js";import"./ActiveShapeUtils-tTCqnt4A.js";import"./ErrorBarContext-BO_Rq41O.js";import"./graphicalItemSelectors-01I7ku9s.js";import"./index-p66pR0EO.js";const O=[{id:"MON-001",service:"Workflow Engine",uptime:99.4,incidents:2,lastIncident:"2026-02-13T11:00:00Z",status:"HEALTHY",load:45},{id:"MON-002",service:"Agent Orchestrator",uptime:98.9,incidents:5,lastIncident:"2026-02-14T04:30:00Z",status:"DEGRADED",load:88},{id:"MON-003",service:"Deployment Service",uptime:99.9,incidents:0,lastIncident:"N/A",status:"HEALTHY",load:12},{id:"MON-004",service:"API Gateway",uptime:99.95,incidents:1,lastIncident:"2026-02-10T09:15:00Z",status:"HEALTHY",load:32}],F=[{day:"Mon",uptime:99.8},{day:"Tue",uptime:99.5},{day:"Wed",uptime:98.2},{day:"Thu",uptime:99.9},{day:"Fri",uptime:99.7},{day:"Sat",uptime:99.4},{day:"Sun",uptime:99.6}],W=[{id:"A-001",name:"Frontend Agent",type:"UI/UX",status:"BUSY",currentTask:"Optimizing landing page",load:85},{id:"A-002",name:"Backend Agent",type:"API",status:"ACTIVE",currentTask:"Syncing DB schema",load:60},{id:"A-003",name:"DevOps Agent",type:"Infra",status:"IDLE",load:5},{id:"A-004",name:"QA Agent",type:"Testing",status:"ACTIVE",currentTask:"Running regression suite",load:40}],Z=[{id:"WF-101",name:"Main CI Pipeline",status:"RUNNING",startTime:"2026-02-14T14:15:00Z",duration:"12m"},{id:"WF-102",name:"Daily Data Sync",status:"COMPLETED",startTime:"2026-02-14T02:00:00Z",duration:"45m"},{id:"WF-103",name:"Security Audit",status:"FAILED",startTime:"2026-02-13T23:30:00Z",duration:"5m"},{id:"WF-104",name:"Environment Provisioning",status:"RUNNING",startTime:"2026-02-14T14:25:00Z",duration:"2m"}],U=[{id:"AL-001",severity:"CRITICAL",message:"High latency detected in API Gateway",timestamp:"2026-02-14T14:28:00Z",service:"API Gateway"},{id:"AL-002",severity:"WARNING",message:"Agent Orchestrator memory usage > 90%",timestamp:"2026-02-14T14:10:00Z",service:"Agent Orchestrator"},{id:"AL-003",severity:"INFO",message:"Deployment of 'auth-service' completed",timestamp:"2026-02-14T13:45:00Z",service:"Deployment Service"}];function Y(){return v({queryKey:["monitoring-data"],queryFn:async()=>(await new Promise(a=>setTimeout(a,500)),{services:O,uptimeHistory:F,agents:W,workflows:Z,alerts:U})})}function z({services:a}){const t=s=>{switch(s){case"HEALTHY":return e.jsx(j,{className:"h-4 w-4 text-green-500"});case"DEGRADED":return e.jsx(h,{className:"h-4 w-4 text-yellow-500"});case"DOWN":return e.jsx(p,{className:"h-4 w-4 text-red-500"});default:return e.jsx(x,{className:"h-4 w-4 text-muted-foreground"})}};return e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:a.map(s=>e.jsxs(r,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium",children:s.service}),t(s.status)]}),e.jsx(c,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-2xl font-bold",children:[s.uptime,"%"]}),e.jsx(i,{variant:s.status==="HEALTHY"?"default":"secondary",children:s.status})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-[10px] text-muted-foreground",children:[e.jsx("span",{children:"Current Load"}),e.jsxs("span",{children:[s.load,"%"]})]}),e.jsx(u,{value:s.load,className:"h-1"})]}),e.jsxs("div",{className:"flex justify-between text-[10px] text-muted-foreground pt-2 border-t",children:[e.jsxs("span",{children:["Incidents: ",s.incidents]}),e.jsxs("span",{children:["Last: ",s.lastIncident==="N/A"?"N/A":new Date(s.lastIncident).toLocaleTimeString()]})]})]})})]},s.id))})}function X({data:a}){return e.jsxs(r,{className:"col-span-full lg:col-span-2",children:[e.jsx(n,{children:e.jsx(l,{className:"text-sm font-medium",children:"7-Day System Uptime (%)"})}),e.jsx(c,{children:e.jsx("div",{className:"h-[240px] w-full",children:e.jsx(w,{width:"100%",height:"100%",children:e.jsxs(T,{data:a,children:[e.jsx(C,{strokeDasharray:"3 3",vertical:!1,stroke:"#f0f0f0"}),e.jsx(I,{dataKey:"day",fontSize:12,tickLine:!1,axisLine:!1}),e.jsx(L,{fontSize:12,tickLine:!1,axisLine:!1,domain:[95,100],tickFormatter:t=>`${t}%`}),e.jsx(A,{cursor:{fill:"transparent"},contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}}),e.jsx(b,{dataKey:"uptime",radius:[4,4,0,0],children:a.map((t,s)=>e.jsx(S,{fill:t.uptime>=99.5?"#22c55e":t.uptime>=98.5?"#eab308":"#ef4444"},`cell-${s}`))})]})})})})]})}function K({agents:a}){return e.jsxs(r,{className:"col-span-full md:col-span-1",children:[e.jsx(n,{children:e.jsxs(l,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(f,{className:"h-4 w-4"}),"Agent Activity Monitor"]})}),e.jsx(c,{children:e.jsx("div",{className:"space-y-4",children:a.map(t=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold",children:t.name}),e.jsx("p",{className:"text-[10px] text-muted-foreground",children:t.type})]}),e.jsx(i,{variant:t.status==="BUSY"?"default":"secondary",className:"text-[10px]",children:t.status})]}),t.currentTask&&e.jsxs("p",{className:"text-[10px] italic text-muted-foreground truncate",children:["Task: ",t.currentTask]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-3 w-3 text-muted-foreground"}),e.jsx(u,{value:t.load,className:"h-1.5 flex-1"}),e.jsxs("span",{className:"text-[10px] font-mono w-8 text-right",children:[t.load,"%"]})]})]},t.id))})})]})}function V({workflows:a}){const t=s=>{switch(s){case"RUNNING":return e.jsx(E,{className:"h-3 w-3 text-blue-500 animate-pulse"});case"COMPLETED":return e.jsx(j,{className:"h-3 w-3 text-green-500"});case"FAILED":return e.jsx(p,{className:"h-3 w-3 text-red-500"});default:return e.jsx(o,{className:"h-3 w-3 text-muted-foreground"})}};return e.jsxs(r,{className:"col-span-full md:col-span-1",children:[e.jsx(n,{children:e.jsxs(l,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(o,{className:"h-4 w-4"}),"Workflow Executions"]})}),e.jsx(c,{children:e.jsx("div",{className:"space-y-4",children:a.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-muted/30",children:[e.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[e.jsx("div",{className:"p-1.5 rounded-full bg-background border shadow-sm",children:t(s.status)}),e.jsxs("div",{className:"overflow-hidden",children:[e.jsx("p",{className:"text-xs font-medium truncate",children:s.name}),e.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-muted-foreground",children:[e.jsx(D,{className:"h-3 w-3"}),e.jsx("span",{children:new Date(s.startTime).toLocaleTimeString()}),e.jsx("span",{children:"â€¢"}),e.jsx("span",{children:s.duration})]})]})]}),e.jsx(i,{variant:s.status==="FAILED"?"destructive":"outline",className:"text-[10px]",children:s.status})]},s.id))})})]})}function q({alerts:a}){const t=s=>{switch(s){case"CRITICAL":return{icon:e.jsx(H,{className:"h-4 w-4 text-red-500"}),bg:"bg-red-500/10",border:"border-red-500/20"};case"WARNING":return{icon:e.jsx(h,{className:"h-4 w-4 text-yellow-500"}),bg:"bg-yellow-500/10",border:"border-yellow-500/20"};default:return{icon:e.jsx(R,{className:"h-4 w-4 text-blue-500"}),bg:"bg-blue-500/10",border:"border-blue-500/20"}}};return e.jsxs(r,{className:"col-span-full",children:[e.jsxs(n,{className:"flex flex-row items-center justify-between",children:[e.jsxs(l,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(N,{className:"h-4 w-4"}),"Active System Incidents & Alerts"]}),e.jsxs(i,{variant:"outline",children:[a.length," Active"]})]}),e.jsx(c,{children:e.jsx("div",{className:"space-y-2",children:a.map(s=>{const d=t(s.severity);return e.jsxs("div",{className:g("flex items-start gap-4 p-3 rounded-lg border",d.bg,d.border),children:[e.jsx("div",{className:"mt-0.5",children:d.icon}),e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-xs font-semibold",children:s.service}),e.jsx("span",{className:"text-[10px] text-muted-foreground",children:new Date(s.timestamp).toLocaleTimeString()})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.message})]}),e.jsx(i,{variant:s.severity==="CRITICAL"?"destructive":"secondary",className:"text-[10px]",children:s.severity})]},s.id)})})})]})}function ge(){const{data:a,isLoading:t,refetch:s}=Y();return t?e.jsx("div",{className:"flex items-center justify-center h-full",children:"Loading system metrics..."}):e.jsxs("div",{className:"flex-1 space-y-4 p-4 pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(x,{className:"h-6 w-6 text-primary"}),e.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"System Monitoring"})]}),e.jsxs(y,{size:"sm",variant:"outline",onClick:()=>s(),children:[e.jsx(B,{className:"mr-2 h-4 w-4"}),"Live Refresh"]})]}),e.jsx(z,{services:a?.services||[]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(X,{data:a?.uptimeHistory||[]}),e.jsx(K,{agents:a?.agents||[]}),e.jsx(V,{workflows:a?.workflows||[]})]}),e.jsx("div",{className:"grid gap-4",children:e.jsx(q,{alerts:a?.alerts||[]})}),e.jsxs(M,{defaultValue:"services",className:"space-y-4",children:[e.jsxs(P,{children:[e.jsx(m,{value:"services",children:"Service Status"}),e.jsx(m,{value:"infrastructure",children:"Infrastructure"}),e.jsx(m,{value:"network",children:"Network Traffic"})]}),e.jsx(G,{value:"services",className:"space-y-4"})]})]})}export{ge as default};
