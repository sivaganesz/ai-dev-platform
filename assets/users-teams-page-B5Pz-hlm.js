import{e as k,j as e,A as T,q as E,a as I,B as u,a1 as g,k as o,c as R,y as U,D as M,E as B,H as F,I as P,o as O,b as S,F as L,i as h,r as V}from"./index-BCiwssk4.js";import{u as H}from"./useQuery-DHQUI4b3.js";import{T as Q,a as G,b as N,c as m,d as q,e as x}from"./table-BNWkvk0r.js";import{C as n,a as l,b as i,c as d}from"./card-BFKiiVyG.js";import{C as z}from"./chevron-right-DekzC88G.js";import{S as v}from"./separator-Cyuoti2e.js";import{C as J}from"./calendar-BklZPH3c.js";import{M as C}from"./mail-BSeqC0RY.js";import{A as K}from"./arrow-right-_BOSjZVa.js";import{D as W,f as _,a as $,b as X,c as Y,e as Z}from"./dialog-nwwd_hAG.js";import{I as ee}from"./input-D6xA4H8f.js";import{S as b,a as y,b as A,c as w,d as c}from"./select-PQl-LpCO.js";import{S as se}from"./shield-alert-lnTdjJbd.js";import"./index-DU2GHXII.js";import"./chevron-down-DHnmizAH.js";const ae=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],D=k("user-plus",ae),te=[{id:"USR-001",name:"Sivaganesh",email:"siva@platform.ai",roleId:"ROLE-ADMIN",roleName:"Administrator",teamId:"TEAM-CORE",teamName:"Core Platform",assignedAgents:["AG-001","AG-002"],status:"ACTIVE",joinedAt:"2025-08-10"},{id:"USR-002",name:"John Doe",email:"john@platform.ai",roleId:"ROLE-LEAD",roleName:"Team Lead",teamId:"TEAM-FE",teamName:"Frontend",assignedAgents:["AG-003"],status:"ACTIVE",joinedAt:"2025-09-15"},{id:"USR-003",name:"Alice Smith",email:"alice@platform.ai",roleId:"ROLE-DEV",roleName:"Senior Developer",teamId:"TEAM-BE",teamName:"Backend",assignedAgents:["AG-004","AG-005"],status:"ACTIVE",joinedAt:"2025-10-01"},{id:"USR-004",name:"Bob Wilson",email:"bob@platform.ai",roleId:"ROLE-QA",roleName:"QA Engineer",teamId:"TEAM-QA",teamName:"Quality Assurance",assignedAgents:["AG-006"],status:"PENDING",joinedAt:"2026-02-01"}],re=[{id:"TEAM-CORE",name:"Core Platform",description:"Infrastructure and core services",memberCount:5,leadId:"USR-001"},{id:"TEAM-DEV",name:"Engineering",description:"Product development teams",memberCount:25,leadId:"USR-001",parentTeamId:"TEAM-CORE"},{id:"TEAM-FE",name:"Frontend",description:"User interface and experience",memberCount:8,leadId:"USR-002",parentTeamId:"TEAM-DEV"},{id:"TEAM-BE",name:"Backend",description:"Server-side logic and APIs",memberCount:12,leadId:"USR-003",parentTeamId:"TEAM-DEV"},{id:"TEAM-QA",name:"Quality Assurance",description:"Testing and automation",memberCount:5,leadId:"USR-004",parentTeamId:"TEAM-DEV"}],ne={totalUsers:48,activeTeams:6,pendingInvites:3,assignedAgents:12};function le(){return H({queryKey:["users-teams-data"],queryFn:async()=>(await new Promise(s=>setTimeout(s,500)),{users:te,teams:re,stats:ne})})}function ie({users:s,onSelectUser:r}){return e.jsx("div",{className:"rounded-md border",children:e.jsxs(Q,{children:[e.jsx(G,{children:e.jsxs(N,{children:[e.jsx(m,{children:"User"}),e.jsx(m,{children:"Role"}),e.jsx(m,{children:"Team"}),e.jsx(m,{children:"Status"}),e.jsx(m,{className:"text-right",children:"Joined"})]})}),e.jsx(q,{children:s.map(a=>e.jsxs(N,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>r(a),children:[e.jsx(x,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(T,{className:"h-8 w-8",children:[e.jsx(E,{src:a.avatar}),e.jsx(I,{children:a.name.charAt(0)})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium text-sm",children:a.name}),e.jsx("span",{className:"text-xs text-muted-foreground",children:a.email})]})]})}),e.jsx(x,{children:e.jsx("span",{className:"text-xs font-medium",children:a.roleName})}),e.jsx(x,{children:e.jsx(u,{variant:"outline",className:"text-[10px]",children:a.teamName})}),e.jsx(x,{children:e.jsx(u,{variant:a.status==="ACTIVE"?"default":"secondary",className:"text-[10px]",children:a.status})}),e.jsx(x,{className:"text-right text-xs text-muted-foreground",children:a.joinedAt})]},a.id))})]})})}function de({teams:s}){const r=s.filter(t=>!t.parentTeamId),a=(t,j=0)=>{const f=s.filter(p=>p.parentTeamId===t.id);return e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:R("flex items-center justify-between p-2 rounded-md hover:bg-muted/50 cursor-pointer group transition-colors",j===0?"bg-muted/30":""),style:{marginLeft:`${j*1.5}rem`},children:[e.jsxs("div",{className:"flex items-center gap-2",children:[f.length>0?e.jsx(z,{className:"h-3 w-3 text-muted-foreground group-hover:rotate-90 transition-transform"}):e.jsx("div",{className:"w-3"}),e.jsx(g,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"text-sm font-medium",children:t.name})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[e.jsx(o,{className:"h-3 w-3"}),t.memberCount]})]}),f.map(p=>a(p,j+1))]},t.id)};return e.jsxs(n,{children:[e.jsx(l,{className:"pb-2",children:e.jsxs(i,{className:"text-sm font-semibold flex items-center gap-2",children:[e.jsx(g,{className:"h-4 w-4"}),"Organizational Hierarchy"]})}),e.jsx(d,{className:"pt-0",children:e.jsx("div",{className:"space-y-2 py-2",children:r.map(t=>a(t))})})]})}function ce({user:s,isOpen:r,onClose:a}){return s?e.jsx(U,{open:r,onOpenChange:a,children:e.jsxs(M,{className:"sm:max-w-md",children:[e.jsx(B,{children:e.jsxs("div",{className:"flex flex-col items-center gap-4 py-4",children:[e.jsxs(T,{className:"h-20 w-20",children:[e.jsx(E,{src:s.avatar}),e.jsx(I,{className:"text-2xl",children:s.name.charAt(0)})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(F,{className:"text-xl font-bold",children:s.name}),e.jsx(P,{children:s.email})]}),e.jsx(u,{children:s.status})]})}),e.jsxs("div",{className:"space-y-6 mt-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-sm font-semibold uppercase tracking-wider text-muted-foreground",children:"Identity & Role"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsx(O,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"font-medium",children:s.roleName})]}),e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsx(J,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:["Joined ",s.joinedAt]})]}),e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsx(C,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:s.email})]})]})]}),e.jsx(v,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-sm font-semibold uppercase tracking-wider text-muted-foreground",children:"Assigned Agents"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.assignedAgents.map(t=>e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full bg-muted border text-xs font-medium",children:[e.jsx(S,{className:"h-3 w-3 text-primary"}),t]},t))})]}),e.jsx(v,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-sm font-semibold uppercase tracking-wider text-muted-foreground",children:"Team Context"}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border bg-muted/30",children:[e.jsx(L,{className:"h-5 w-5 text-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold",children:s.teamName}),e.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[s.roleName," assigned to ",s.teamName]})]})]})]})]})]})}):null}function me(){const s=[{team:"Frontend",agents:3,projects:5},{team:"Backend",agents:4,projects:8},{team:"DevOps",agents:2,projects:12}];return e.jsxs(n,{children:[e.jsx(l,{children:e.jsx(i,{className:"text-sm font-semibold",children:"Operational Resource Mapping"})}),e.jsxs(d,{className:"space-y-4",children:[s.map(r=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border hover:bg-muted/50 transition-colors cursor-pointer group",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("span",{className:"text-sm font-bold",children:[r.team," Team"]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground",children:[e.jsx(S,{className:"h-3 w-3"}),r.agents," Agents"]}),e.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground",children:[e.jsx(o,{className:"h-3 w-3"}),r.projects," Projects"]})]})]}),e.jsx(h,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(K,{className:"h-4 w-4"})})]},r.team)),e.jsx(h,{variant:"outline",className:"w-full text-xs h-8",children:"Manage Assignments"})]})]})}function xe(){return e.jsxs(W,{children:[e.jsx(_,{asChild:!0,children:e.jsxs(h,{size:"sm",children:[e.jsx(D,{className:"mr-2 h-4 w-4"}),"Invite User"]})}),e.jsxs($,{className:"sm:max-w-[425px]",children:[e.jsx(X,{children:e.jsxs(Y,{className:"flex items-center gap-2",children:[e.jsx(C,{className:"h-5 w-5 text-primary"}),"Send Platform Invitation"]})}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{htmlFor:"email",className:"text-xs font-bold uppercase tracking-wider text-muted-foreground",children:"Email Address"}),e.jsx(ee,{id:"email",placeholder:"colleague@company.com"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{className:"text-xs font-bold uppercase tracking-wider text-muted-foreground",children:"Team"}),e.jsxs(b,{children:[e.jsx(y,{children:e.jsx(A,{placeholder:"Select Team"})}),e.jsxs(w,{children:[e.jsx(c,{value:"fe",children:"Frontend"}),e.jsx(c,{value:"be",children:"Backend"}),e.jsx(c,{value:"qa",children:"QA"})]})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{className:"text-xs font-bold uppercase tracking-wider text-muted-foreground",children:"Role"}),e.jsxs(b,{children:[e.jsx(y,{children:e.jsx(A,{placeholder:"Select Role"})}),e.jsxs(w,{children:[e.jsx(c,{value:"admin",children:"Admin"}),e.jsx(c,{value:"lead",children:"Lead"}),e.jsx(c,{value:"dev",children:"Developer"})]})]})]})]})]}),e.jsx(Z,{children:e.jsx(h,{type:"submit",className:"w-full",children:"Send Invite"})})]})]})}function Ie(){const{data:s,isLoading:r}=le(),[a,t]=V.useState(null);return r?e.jsx("div",{className:"flex items-center justify-center h-full",children:"Synchronizing workforce data..."}):e.jsxs("div",{className:"flex-1 space-y-4 p-4 pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(o,{className:"h-6 w-6 text-primary"}),e.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Identity & Teams"})]}),e.jsx(xe,{})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[e.jsxs(n,{children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-[10px] font-bold uppercase tracking-wider text-muted-foreground",children:"Total Workforce"}),e.jsx(o,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(d,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s?.stats.totalUsers}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Managed identities"})]})]}),e.jsxs(n,{children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-[10px] font-bold uppercase tracking-wider text-muted-foreground",children:"Active Teams"}),e.jsx(g,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(d,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s?.stats.activeTeams}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Functional units"})]})]}),e.jsxs(n,{children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-[10px] font-bold uppercase tracking-wider text-muted-foreground",children:"Agent Supervisors"}),e.jsx(se,{className:"h-4 w-4 text-primary"})]}),e.jsxs(d,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s?.stats.assignedAgents}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Authorized personnel"})]})]}),e.jsxs(n,{children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-[10px] font-bold uppercase tracking-wider text-yellow-500",children:"Pending Invites"}),e.jsx(D,{className:"h-4 w-4 text-yellow-500"})]}),e.jsxs(d,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s?.stats.pendingInvites}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Awaiting activation"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsxs(n,{children:[e.jsx(l,{children:e.jsx(i,{className:"text-lg",children:"Platform Users"})}),e.jsx(d,{children:e.jsx(ie,{users:s?.users||[],onSelectUser:t})})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(de,{teams:s?.teams||[]}),e.jsx(me,{})]})]}),e.jsx(ce,{user:a,isOpen:!!a,onClose:()=>t(null)})]})}export{Ie as default};
