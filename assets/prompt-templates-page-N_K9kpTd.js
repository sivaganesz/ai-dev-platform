import{j as e,s as v,B as b,b as T,l as C,i,U as P,G as A,r as R,x as k}from"./index-BCiwssk4.js";import{u as I}from"./useQuery-DHQUI4b3.js";import{C as n,a as c,b as o,c as d}from"./card-BFKiiVyG.js";import{C as D}from"./clock-BRr6Aeit.js";import{P as U}from"./play-BjBsGe-4.js";import{S as E}from"./save-Dwjn-qZy.js";import{C as M}from"./copy-BJU9y2uS.js";import{R as V}from"./rotate-ccw-O62MxV-z.js";import{H as w}from"./history-BzVmeYr6.js";import{C as B}from"./calendar-BklZPH3c.js";import{A as L}from"./arrow-right-_BOSjZVa.js";import{T as F,a as z,b as h,c as m,d as G,e as p}from"./table-BNWkvk0r.js";import{C as H}from"./circle-check-2Punt13J.js";import{C as W}from"./circle-x-chh1iMyz.js";import{D as q,f as O,a as Z,b as Q,c as Y,e as J}from"./dialog-nwwd_hAG.js";import{I as K}from"./input-D6xA4H8f.js";import{S as f,a as g,b as j,c as N,d as r}from"./select-PQl-LpCO.js";import{P as X}from"./plus-D2eKHfAl.js";import{T as u}from"./terminal-CggZm82H.js";import{M as $}from"./map-BekiO7pc.js";import"./index-DU2GHXII.js";import"./chevron-down-DHnmizAH.js";const _=[{id:"PRMPT-001",name:"Frontend Code Generator",agent:"Frontend Agent",version:"v3.1",usageCount:124,lastUpdated:"2026-02-10",category:"GENERATION",content:"You are an expert React developer. Generate a clean, accessible, and performant component based on the following requirements..."},{id:"PRMPT-002",name:"ADR Analysis Logic",agent:"Senior Developer",version:"v2.0",usageCount:85,lastUpdated:"2026-02-12",category:"ANALYSIS",content:"Analyze the provided Architectural Decision Record (ADR). Identify potential risks, technical debt, and cross-team dependencies..."},{id:"PRMPT-003",name:"API Simulation Mock",agent:"Sandbox Agent",version:"v1.5",usageCount:210,lastUpdated:"2026-02-14",category:"SIMULATION",content:"Generate a realistic JSON response for the following API endpoint specification. Include common edge cases and error status codes..."},{id:"PRMPT-004",name:"PR Review Checklist",agent:"Code Reviewer",version:"v4.2",usageCount:56,lastUpdated:"2026-02-08",category:"REVIEW",content:"Review the attached Pull Request diff. Check for security vulnerabilities, naming convention adherence, and unit test coverage..."}],ee=[{id:"VER-001",promptId:"PRMPT-001",version:"v3.1",updatedAt:"2026-02-10T14:00:00Z",updatedBy:"Sivaganesh",changes:"Added Tailwind CSS v4 support and improved accessibility checks."},{id:"VER-002",promptId:"PRMPT-001",version:"v3.0",updatedAt:"2026-01-25T10:30:00Z",updatedBy:"Alice Smith",changes:"Initial v3 release with multi-file generation capabilities."}],se=[{id:"USE-001",promptId:"PRMPT-001",workflowId:"WF-101",workflowName:"Auth Module Scaffold",executionDate:"2026-02-14T09:00:00Z",status:"SUCCESS"},{id:"USE-002",promptId:"PRMPT-003",workflowId:"WF-205",workflowName:"Payments API Stress Test",executionDate:"2026-02-14T11:30:00Z",status:"SUCCESS"},{id:"USE-003",promptId:"PRMPT-002",workflowId:"WF-502",workflowName:"Database Migration Review",executionDate:"2026-02-13T16:45:00Z",status:"FAILED"}];function te(){return I({queryKey:["prompts-templates-data"],queryFn:async()=>(await new Promise(s=>setTimeout(s,500)),{prompts:_,versions:ee,usages:se})})}function ae({prompts:s,selectedId:t,onSelect:l}){return e.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:s.map(a=>e.jsxs(n,{className:`cursor-pointer transition-all ${t===a.id?"border-primary ring-1 ring-primary":"hover:border-primary/50"}`,onClick:()=>l(a),children:[e.jsxs(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsxs(o,{className:"text-sm font-bold flex items-center gap-2",children:[e.jsx(v,{className:"h-4 w-4 text-primary"}),a.name]}),e.jsx(b,{variant:"outline",className:"text-[10px]",children:a.version})]}),e.jsx(d,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[e.jsx(T,{className:"h-3 w-3"}),"Target: ",e.jsx("span",{className:"text-foreground font-medium",children:a.agent})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground",children:[e.jsx(C,{className:"h-3 w-3"}),"Used ",a.usageCount," times"]}),e.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground",children:[e.jsx(D,{className:"h-3 w-3"}),a.lastUpdated]})]}),e.jsx("p",{className:"text-[11px] text-muted-foreground line-clamp-2 bg-muted/30 p-2 rounded",children:a.content})]})})]},a.id))})}function re({prompt:s}){return s?e.jsxs(n,{className:"h-full flex flex-col",children:[e.jsxs(c,{className:"flex flex-row items-center justify-between py-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(o,{className:"text-lg font-bold",children:"Edit Template"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.name," (",s.version,")"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(i,{size:"sm",variant:"outline",className:"h-8 px-2",children:[e.jsx(U,{className:"h-3.5 w-3.5 mr-1"})," Test"]}),e.jsxs(i,{size:"sm",className:"h-8 px-2",children:[e.jsx(E,{className:"h-3.5 w-3.5 mr-1"})," Save Version"]})]})]}),e.jsx(d,{className:"flex-1 pb-4",children:e.jsxs("div",{className:"relative h-full min-h-[400px]",children:[e.jsx("textarea",{className:"w-full h-full min-h-[400px] p-4 rounded-md border bg-slate-950 text-slate-300 font-mono text-sm leading-relaxed resize-none focus:outline-none focus:ring-1 focus:ring-primary",defaultValue:s.content}),e.jsxs("div",{className:"absolute top-2 right-2 flex gap-1",children:[e.jsx(i,{size:"icon",variant:"ghost",className:"h-7 w-7 text-slate-500 hover:text-white",children:e.jsx(M,{className:"h-3.5 w-3.5"})}),e.jsx(i,{size:"icon",variant:"ghost",className:"h-7 w-7 text-slate-500 hover:text-white",children:e.jsx(V,{className:"h-3.5 w-3.5"})})]})]})})]}):e.jsx(n,{className:"h-full flex items-center justify-center border-dashed",children:e.jsxs("div",{className:"text-center p-6 text-muted-foreground",children:[e.jsx(v,{className:"h-8 w-8 mx-auto mb-2 opacity-20"}),e.jsx("p",{className:"text-sm",children:"Select a template to edit its instructions"})]})})}function le({versions:s}){return e.jsxs(n,{children:[e.jsx(c,{children:e.jsxs(o,{className:"text-sm font-bold flex items-center gap-2",children:[e.jsx(w,{className:"h-4 w-4"}),"Version History"]})}),e.jsxs(d,{className:"space-y-4",children:[s.map(t=>e.jsxs("div",{className:"relative pl-6 before:absolute before:left-0 before:top-2 before:bottom-0 before:w-px before:bg-muted group",children:[e.jsx("div",{className:"absolute left-[-4px] top-2 w-2 h-2 rounded-full bg-primary border-2 border-background"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs font-bold",children:t.version}),e.jsx(b,{variant:"outline",className:"text-[9px] h-4",children:"RESTORE"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(P,{className:"h-3 w-3"})," ",t.updatedBy]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(B,{className:"h-3 w-3"})," ",new Date(t.updatedAt).toLocaleDateString()]})]}),e.jsx("p",{className:"text-[11px] text-muted-foreground italic leading-relaxed pt-1 group-hover:text-foreground transition-colors",children:t.changes})]})]},t.id)),e.jsxs("button",{className:"w-full text-center py-2 text-[10px] font-bold text-primary hover:underline flex items-center justify-center gap-1",children:["View All Versions ",e.jsx(L,{className:"h-3 w-3"})]})]})]})}function ie({usages:s}){return e.jsxs(n,{children:[e.jsx(c,{children:e.jsx(o,{className:"text-sm font-bold",children:"Recent Usage Mapping"})}),e.jsx(d,{children:e.jsxs(F,{children:[e.jsx(z,{children:e.jsxs(h,{children:[e.jsx(m,{className:"text-[10px] font-bold uppercase",children:"Workflow"}),e.jsx(m,{className:"text-[10px] font-bold uppercase",children:"Date"}),e.jsx(m,{className:"text-[10px] font-bold uppercase text-right",children:"Status"})]})}),e.jsx(G,{children:s.map(t=>e.jsxs(h,{children:[e.jsx(p,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-3 w-3 text-muted-foreground"}),e.jsx("span",{className:"text-xs font-medium",children:t.workflowName})]})}),e.jsx(p,{className:"text-[10px] text-muted-foreground",children:new Date(t.executionDate).toLocaleDateString()}),e.jsx(p,{className:"text-right",children:t.status==="SUCCESS"?e.jsx(H,{className:"h-3.5 w-3.5 text-green-500 ml-auto"}):e.jsx(W,{className:"h-3.5 w-3.5 text-red-500 ml-auto"})})]},t.id))})]})})]})}function ne(){return e.jsxs(q,{children:[e.jsx(O,{asChild:!0,children:e.jsxs(i,{size:"sm",children:[e.jsx(X,{className:"mr-2 h-4 w-4"}),"Create Template"]})}),e.jsxs(Z,{className:"sm:max-w-[500px]",children:[e.jsx(Q,{children:e.jsxs(Y,{className:"flex items-center gap-2",children:[e.jsx(u,{className:"h-5 w-5 text-primary"}),"New Prompt Template"]})}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{className:"text-[10px] font-bold uppercase text-muted-foreground tracking-widest",children:"Template Name"}),e.jsx(K,{placeholder:"e.g. Unit Test Generator"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{className:"text-[10px] font-bold uppercase text-muted-foreground tracking-widest",children:"Target Agent"}),e.jsxs(f,{children:[e.jsx(g,{children:e.jsx(j,{placeholder:"Select Agent"})}),e.jsxs(N,{children:[e.jsx(r,{value:"frontend",children:"Frontend Agent"}),e.jsx(r,{value:"backend",children:"Backend Agent"}),e.jsx(r,{value:"qa",children:"QA Agent"}),e.jsx(r,{value:"devops",children:"DevOps Agent"})]})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{className:"text-[10px] font-bold uppercase text-muted-foreground tracking-widest",children:"Category"}),e.jsxs(f,{children:[e.jsx(g,{children:e.jsx(j,{placeholder:"Select Category"})}),e.jsxs(N,{children:[e.jsx(r,{value:"gen",children:"Generation"}),e.jsx(r,{value:"ana",children:"Analysis"}),e.jsx(r,{value:"rev",children:"Review"}),e.jsx(r,{value:"sim",children:"Simulation"})]})]})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{className:"text-[10px] font-bold uppercase text-muted-foreground tracking-widest",children:"Base Instructions"}),e.jsx("textarea",{className:"flex min-h-[100px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"System prompt instructions..."})]})]}),e.jsx(J,{children:e.jsx(i,{type:"submit",className:"w-full",children:"Initialize Template"})})]})]})}function ke(){const{data:s,isLoading:t}=te(),[l,a]=R.useState(null);if(t)return e.jsx("div",{className:"flex items-center justify-center h-full",children:"Synchronizing instruction library..."});!l&&s?.prompts.length&&a(s.prompts[0]);const y=s?.versions.filter(x=>x.promptId===l?.id)||[],S=s?.usages.filter(x=>x.promptId===l?.id)||[];return e.jsxs("div",{className:"flex-1 space-y-4 p-4 pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(u,{className:"h-6 w-6 text-primary"}),e.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"AI Instruction Library"})]}),e.jsx(ne,{})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[e.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-xs font-bold flex items-center gap-2 uppercase tracking-widest text-muted-foreground",children:[e.jsx(k,{className:"h-4 w-4"}),"Template Library"]}),e.jsx(ae,{prompts:s?.prompts||[],selectedId:l?.id||null,onSelect:a})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-xs font-bold flex items-center gap-2 uppercase tracking-widest text-muted-foreground",children:[e.jsx($,{className:"h-4 w-4"}),"Workflow Traces"]}),e.jsx(ie,{usages:S})]})]}),e.jsx("div",{className:"lg:col-span-5",children:e.jsxs("div",{className:"space-y-4 h-full",children:[e.jsxs("h3",{className:"text-xs font-bold flex items-center gap-2 uppercase tracking-widest text-muted-foreground",children:[e.jsx(u,{className:"h-4 w-4"}),"Instruction Designer"]}),e.jsx(re,{prompt:l})]})}),e.jsx("div",{className:"lg:col-span-3",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-xs font-bold flex items-center gap-2 uppercase tracking-widest text-muted-foreground",children:[e.jsx(w,{className:"h-4 w-4"}),"Audit Log"]}),e.jsx(le,{versions:y})]})})]})]})}export{ke as default};
