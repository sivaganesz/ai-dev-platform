import{r as p,j as e,B as m,v as E,w as N,W as b,d as I,x as w,u as S,p as C,i as f}from"./index-CyvJUZqR.js";import{a as P}from"./architectureDecisionsData-c6ogkXic.js";import{C as i,c as l,a as d,b as o}from"./card-9e5eR-TL.js";import{T,a as R,b as j,c as g,d as L,e as h}from"./table-DPilA-Lh.js";import{A as M}from"./arrow-right-BNY497oc.js";import{C as y}from"./cpu-D1kV5ECj.js";import{C as k}from"./circle-alert-BykDmaaL.js";import{Z as G}from"./zap-CnivpesB.js";import{L as O}from"./layers-d--2co6E.js";import{R as V}from"./refresh-cw-Bx0G3C4A.js";import{T as W}from"./triangle-alert-BFLjuX3_.js";import{D as F}from"./dollar-sign-BOHo7BkV.js";import{T as U}from"./trending-up-Br-8hbr_.js";import{T as H}from"./trending-down-BUTospfh.js";import{C as B}from"./circle-Cdq4dzxm.js";import{C as K}from"./clock-BXrF9XKR.js";import{C as $}from"./circle-check-LM3MRdPF.js";import{L as Y}from"./loader-circle-CdsqdImE.js";import{C as _}from"./chevron-left-BQ6wMN70.js";const J={"ADR-001":{decisionId:"ADR-001",impactedAgents:[{id:"AGENT-001",name:"Search Optimizer",changeType:"RAG logic update",impactLevel:"HIGH"},{id:"AGENT-003",name:"Knowledge Retriever",changeType:"Vector API integration",impactLevel:"HIGH"}],impactedWorkflows:[{id:"WF-2001",name:"RAG Pipeline",changeType:"Data ingestion stage update",impactLevel:"HIGH"}],impactedProjects:["PRJ-1001"],deploymentImpact:"MEDIUM",infraChanges:["Pinecone Instance Provisioning","Secrets management for API keys"],aiExecutionChanges:["Vector search instead of keyword search","Embedding generation required"],estimatedCostImpact:25,performanceImpactScore:92,riskPropagationLevel:35,architectureBreakdown:{oldModel:"PostgreSQL with ILIKE / Full-text search",newModel:"Pinecone Vector Store with Semantic Search",layers:[{name:"Storage Layer",oldValue:"Relational DB",newValue:"Vector Database",status:"MODIFIED"},{name:"Retrieval Logic",oldValue:"Keyword Match",newValue:"Cosine Similarity",status:"MODIFIED"},{name:"Data Processing",oldValue:"Plain Text",newValue:"Vector Embeddings",status:"ADDED"}]},executionImpactMap:{nodes:[{id:"ADR-001",label:"Vector DB Migration",type:"DECISION"},{id:"AGENT-003",label:"Knowledge Retriever",type:"AGENT"},{id:"WF-2001",label:"RAG Pipeline",type:"WORKFLOW"},{id:"DEP-001",label:"Cloud Infra",type:"DEPLOYMENT"}],edges:[{source:"ADR-001",target:"AGENT-003",label:"Updates Logic"},{source:"AGENT-003",target:"WF-2001",label:"Powers"},{source:"ADR-001",target:"DEP-001",label:"New Resource"}]},deploymentDetails:{infraChanges:["Provision Pinecone Index","Update Terraform scripts"],pipelineUpdates:["Add embedding generation step","Update environment variables"],containerScaling:"Stable (Stateless agents)",cicdAdjustments:"Add integration tests for Vector Search"},riskPropagation:[{entity:"Knowledge Retriever Agent",riskScore:40,connectionType:"Direct dependency"},{entity:"RAG Pipeline Workflow",riskScore:30,connectionType:"Downstream impact"},{entity:"Data Ingestion Pipeline",riskScore:20,connectionType:"Source dependency"}],costDetails:{infra:150,compute:50,storage:200},simulationTimeline:[{stage:"Decision Approved",description:"ADR-001 officially approved for implementation",duration:"Day 0",status:"COMPLETED"},{stage:"Infra Update",description:"Pinecone instance creation and network setup",duration:"Day 2",status:"COMPLETED"},{stage:"Agent Reconfiguration",description:"Updating Retriever agent with new SDK",duration:"Day 5",status:"IN_PROGRESS"},{stage:"Workflow Migration",description:"Updating RAG pipeline stages",duration:"Day 8",status:"PENDING"},{stage:"Deployment Rollout",description:"Production release of new search stack",duration:"Day 12",status:"PENDING"}]},"ADR-002":{decisionId:"ADR-002",impactedAgents:[{id:"AGENT-005",name:"Latency Sensitive Agent",changeType:"Edge runtime migration",impactLevel:"HIGH"}],impactedWorkflows:[{id:"WF-2002",name:"Real-time Chat",changeType:"Edge routing added",impactLevel:"MEDIUM"}],impactedProjects:["PRJ-1002"],deploymentImpact:"HIGH",infraChanges:["Vercel Edge Functions setup","DNS reconfiguration"],aiExecutionChanges:["Streaming response support","Memory constraints on Edge"],estimatedCostImpact:-15,performanceImpactScore:95,riskPropagationLevel:60,architectureBreakdown:{oldModel:"Standard Container (Docker/K8s)",newModel:"Vercel Edge Functions (V8 Isolates)",layers:[{name:"Compute Layer",oldValue:"Virtual Machines",newValue:"Edge Runtime",status:"MODIFIED"},{name:"Network Layer",oldValue:"Regional Load Balancer",newValue:"Global Edge Network",status:"MODIFIED"},{name:"Runtime",oldValue:"Full Node.js",newValue:"Edge (Isolate-based)",status:"MODIFIED"}]},executionImpactMap:{nodes:[{id:"ADR-002",label:"Edge Deployment",type:"DECISION"},{id:"AGENT-005",label:"Latency Agent",type:"AGENT"},{id:"WF-2002",label:"Real-time Chat",type:"WORKFLOW"},{id:"DEP-002",label:"Edge Infrastructure",type:"DEPLOYMENT"}],edges:[{source:"ADR-002",target:"DEP-002",label:"Changes Infrastructure"},{source:"DEP-002",target:"AGENT-005",label:"Hosts"},{source:"AGENT-005",target:"WF-2002",label:"Supports"}]},deploymentDetails:{infraChanges:["Configure Vercel Project","Edge function routing"],pipelineUpdates:["Update build scripts for Edge runtime","Configure environment secrets"],containerScaling:"Serverless (Auto-scaling)",cicdAdjustments:"Update integration tests for global distribution"},riskPropagation:[{entity:"Latency Sensitive Agent",riskScore:70,connectionType:"Runtime dependency"},{entity:"Real-time Chat Workflow",riskScore:50,connectionType:"Service delivery impact"},{entity:"Global Routing",riskScore:40,connectionType:"Infrastructure dependency"}],costDetails:{infra:-100,compute:-50,storage:0},simulationTimeline:[{stage:"Decision Approved",description:"ADR-002 approved",duration:"Day 0",status:"COMPLETED"},{stage:"Infra Update",description:"Vercel Edge configuration",duration:"Day 3",status:"IN_PROGRESS"},{stage:"Agent Reconfiguration",description:"Adapting code for Edge runtime",duration:"Day 7",status:"PENDING"},{stage:"Workflow Migration",description:"Updating routing logic",duration:"Day 10",status:"PENDING"},{stage:"Deployment Rollout",description:"Global edge rollout",duration:"Day 15",status:"PENDING"}]},"ADR-004":{decisionId:"ADR-004",impactedAgents:[{id:"ALL",name:"All Agents",changeType:"MFA authentication required",impactLevel:"HIGH"}],impactedWorkflows:[{id:"ALL",name:"All Workflows",changeType:"Security handshake update",impactLevel:"MEDIUM"}],impactedProjects:["PRJ-1003","GLOBAL"],deploymentImpact:"MEDIUM",infraChanges:["Auth0/Okta integration","API Gateway policy update"],aiExecutionChanges:["Token-based execution","Strict permission checks"],estimatedCostImpact:10,performanceImpactScore:88,riskPropagationLevel:15,architectureBreakdown:{oldModel:"Static API Keys / Simple Auth",newModel:"MFA / Zero-Trust Agent Identity",layers:[{name:"Auth Layer",oldValue:"Static Keys",newValue:"MFA + OAuth2",status:"MODIFIED"},{name:"Access Control",oldValue:"Permissive",newValue:"Principle of Least Privilege",status:"MODIFIED"},{name:"Identity",oldValue:"Service Account",newValue:"Agent-specific Identity",status:"ADDED"}]},executionImpactMap:{nodes:[{id:"ADR-004",label:"MFA Enforcement",type:"DECISION"},{id:"GATEWAY",label:"Security Gateway",type:"DEPLOYMENT"},{id:"AGENTS",label:"Agent Fleet",type:"AGENT"}],edges:[{source:"ADR-004",target:"GATEWAY",label:"Enforces"},{source:"GATEWAY",target:"AGENTS",label:"Secures"}]},deploymentDetails:{infraChanges:["Identity Provider setup","Certificate rotation"],pipelineUpdates:["Secret management for MFA","Update CI/CD runner permissions"],containerScaling:"Stable",cicdAdjustments:"Enforce security scanning on all PRs"},riskPropagation:[{entity:"Agent Fleet",riskScore:20,connectionType:"Authentication dependency"},{entity:"API Gateway",riskScore:30,connectionType:"Policy enforcement"}],costDetails:{infra:200,compute:20,storage:10},simulationTimeline:[{stage:"Decision Approved",description:"MFA policy mandated",duration:"Day 0",status:"COMPLETED"},{stage:"Infra Update",description:"IDP configuration",duration:"Day 5",status:"COMPLETED"},{stage:"Agent Reconfiguration",description:"Updating agent auth libraries",duration:"Day 15",status:"IN_PROGRESS"},{stage:"Workflow Migration",description:"Updating workflow triggers",duration:"Day 30",status:"PENDING"},{stage:"Deployment Rollout",description:"Phased rollout to all projects",duration:"Day 45",status:"PENDING"}]}},z=s=>{const[r,t]=p.useState(null),[a,c]=p.useState(null),[n,u]=p.useState(!0);return p.useEffect(()=>{if(!s)return;u(!0);const x=setTimeout(()=>{const D=P.find(A=>A.id===s),v=J[s];t(D||null),c(v||null),u(!1)},500);return()=>clearTimeout(x)},[s]),{decision:r,analysis:a,isLoading:n}},Z=({decision:s})=>{const r=a=>{switch(a){case"CRITICAL":return"destructive";case"HIGH":return"destructive";case"MEDIUM":return"warning";case"LOW":return"secondary";default:return"outline"}},t=a=>{switch(a){case"APPROVED":return"default";case"UNDER_REVIEW":return"secondary";case"REJECTED":return"destructive";default:return"outline"}};return e.jsx(i,{className:"mb-6",children:e.jsx(l,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:s.id}),e.jsx(m,{variant:"outline",children:s.category})]}),e.jsx("h1",{className:"text-2xl font-bold",children:s.title}),e.jsx("p",{className:"text-muted-foreground mt-1",children:s.description})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("div",{className:"text-center px-4 py-2 bg-muted rounded-lg",children:[e.jsx("p",{className:"text-xs text-muted-foreground uppercase font-semibold",children:"Risk Level"}),e.jsx(m,{variant:r(s.riskLevel),className:"mt-1",children:s.riskLevel})]}),e.jsxs("div",{className:"text-center px-4 py-2 bg-muted rounded-lg",children:[e.jsx("p",{className:"text-xs text-muted-foreground uppercase font-semibold",children:"Impact Score"}),e.jsxs("p",{className:"text-lg font-bold text-primary",children:[s.impactScore,"/100"]})]}),e.jsxs("div",{className:"text-center px-4 py-2 bg-muted rounded-lg",children:[e.jsx("p",{className:"text-xs text-muted-foreground uppercase font-semibold",children:"Status"}),e.jsx(m,{variant:t(s.decisionStatus),className:"mt-1",children:s.decisionStatus})]})]})]})})})},q=({analysis:s})=>{const{oldModel:r,newModel:t,layers:a}=s.architectureBreakdown,c=n=>{switch(n){case"ADDED":return e.jsx(m,{className:"bg-green-500/10 text-green-500 hover:bg-green-500/20 border-green-500/20",children:"ADDED"});case"REMOVED":return e.jsx(m,{variant:"destructive",children:"REMOVED"});case"MODIFIED":return e.jsx(m,{className:"bg-blue-500/10 text-blue-500 hover:bg-blue-500/20 border-blue-500/20",children:"MODIFIED"});default:return e.jsx(m,{variant:"outline",children:"STABLE"})}};return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs(i,{children:[e.jsx(d,{children:e.jsx(o,{className:"text-sm font-medium text-muted-foreground uppercase",children:"Current Architecture"})}),e.jsx(l,{children:e.jsx("div",{className:"p-4 bg-muted/50 rounded-lg border border-dashed text-center min-h-[100px] flex items-center justify-center",children:e.jsx("p",{className:"font-semibold text-muted-foreground",children:r})})})]}),e.jsxs(i,{children:[e.jsx(d,{children:e.jsx(o,{className:"text-sm font-medium text-primary uppercase",children:"Proposed Architecture"})}),e.jsx(l,{children:e.jsx("div",{className:"p-4 bg-primary/5 rounded-lg border border-primary/20 text-center min-h-[100px] flex items-center justify-center",children:e.jsx("p",{className:"font-semibold text-primary",children:t})})})]}),e.jsxs(i,{className:"md:col-span-2",children:[e.jsx(d,{children:e.jsx(o,{className:"text-lg",children:"Layer Comparison"})}),e.jsx(l,{children:e.jsxs(T,{children:[e.jsx(R,{children:e.jsxs(j,{children:[e.jsx(g,{children:"Layer"}),e.jsx(g,{children:"Old State"}),e.jsx(g,{children:"New State"}),e.jsx(g,{children:"Status"})]})}),e.jsx(L,{children:a.map((n,u)=>e.jsxs(j,{children:[e.jsx(h,{className:"font-medium",children:n.name}),e.jsx(h,{className:"text-muted-foreground",children:n.oldValue}),e.jsx(h,{className:"font-semibold text-primary",children:n.newValue}),e.jsx(h,{children:c(n.status)})]},u))})]})})]})]})},Q=({analysis:s})=>{const{nodes:r,edges:t}=s.executionImpactMap,a=n=>{switch(n){case"DECISION":return e.jsx(I,{className:"w-5 h-5 text-primary"});case"AGENT":return e.jsx(y,{className:"w-5 h-5 text-blue-500"});case"WORKFLOW":return e.jsx(b,{className:"w-5 h-5 text-purple-500"});case"DEPLOYMENT":return e.jsx(N,{className:"w-5 h-5 text-green-500"});default:return null}},c=n=>{switch(n){case"DECISION":return"bg-primary/10 border-primary text-primary";case"AGENT":return"bg-blue-500/10 border-blue-500 text-blue-500";case"WORKFLOW":return"bg-purple-500/10 border-purple-500 text-purple-500";case"DEPLOYMENT":return"bg-green-500/10 border-green-500 text-green-500";default:return""}};return e.jsxs(i,{className:"mb-6",children:[e.jsx(d,{children:e.jsx(o,{className:"text-lg",children:"Execution Impact Map"})}),e.jsx(l,{children:e.jsx("div",{className:"relative p-8 overflow-x-auto",children:e.jsx("div",{className:"flex items-center justify-around min-w-[800px]",children:r.map((n,u)=>e.jsxs(E.Fragment,{children:[e.jsxs("div",{className:`flex flex-col items-center p-4 rounded-xl border-2 ${c(n.type)} w-48 text-center shadow-sm`,children:[e.jsx("div",{className:"mb-2 p-2 bg-background rounded-full",children:a(n.type)}),e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider mb-1 opacity-70",children:n.type}),e.jsx("span",{className:"text-sm font-semibold",children:n.label})]}),u<r.length-1&&e.jsxs("div",{className:"flex flex-col items-center justify-center px-4",children:[e.jsx(M,{className:"w-6 h-6 text-muted-foreground animate-pulse"}),t.find(x=>x.source===n.id)?.label&&e.jsx("span",{className:"text-[10px] font-medium text-muted-foreground mt-1 whitespace-nowrap",children:t.find(x=>x.source===n.id)?.label})]})]},n.id))})})})]})},X=({analysis:s})=>{const r=t=>{switch(t){case"HIGH":return"text-destructive";case"MEDIUM":return"text-warning";case"LOW":return"text-blue-500";default:return""}};return e.jsxs(i,{className:"h-full",children:[e.jsxs(d,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(o,{className:"text-lg font-bold",children:"Agent Impact Analysis"}),e.jsx(y,{className:"w-5 h-5 text-muted-foreground"})]}),e.jsx(l,{children:e.jsx("div",{className:"space-y-4",children:s.impactedAgents.map(t=>e.jsxs("div",{className:"p-3 border rounded-lg bg-muted/30",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:t.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t.id})]}),e.jsxs(m,{variant:"outline",className:r(t.impactLevel),children:[t.impactLevel," IMPACT"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(k,{className:"w-3 h-3"}),e.jsx("span",{children:t.changeType})]})]},t.id))})})]})},ee=({analysis:s})=>{const r=t=>{switch(t){case"HIGH":return"text-destructive";case"MEDIUM":return"text-warning";case"LOW":return"text-blue-500";default:return""}};return e.jsxs(i,{className:"h-full",children:[e.jsxs(d,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(o,{className:"text-lg font-bold",children:"Workflow Impact Analysis"}),e.jsx(b,{className:"w-5 h-5 text-muted-foreground"})]}),e.jsx(l,{children:e.jsx("div",{className:"space-y-4",children:s.impactedWorkflows.map(t=>e.jsxs("div",{className:"p-3 border rounded-lg bg-muted/30",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:t.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t.id})]}),e.jsxs(m,{variant:"outline",className:r(t.impactLevel),children:[t.impactLevel," IMPACT"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(w,{className:"w-3 h-3"}),e.jsx("span",{children:t.changeType})]})]},t.id))})})]})},te=({analysis:s})=>{const{deploymentDetails:r}=s;return e.jsxs(i,{className:"mb-6",children:[e.jsx(d,{children:e.jsx(o,{className:"text-lg",children:"Deployment Impact Analysis"})}),e.jsx(l,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"p-4 border rounded-xl bg-background shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg",children:e.jsx(N,{className:"w-4 h-4 text-blue-500"})}),e.jsx("h3",{className:"text-sm font-bold uppercase tracking-tight",children:"Infra Changes"})]}),e.jsx("ul",{className:"space-y-2",children:r.infraChanges.map((t,a)=>e.jsxs("li",{className:"text-sm text-muted-foreground flex items-start gap-2",children:[e.jsx("span",{className:"mt-1.5 w-1.5 h-1.5 rounded-full bg-blue-500 shrink-0"}),t]},a))})]}),e.jsxs("div",{className:"p-4 border rounded-xl bg-background shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"p-2 bg-purple-500/10 rounded-lg",children:e.jsx(G,{className:"w-4 h-4 text-purple-500"})}),e.jsx("h3",{className:"text-sm font-bold uppercase tracking-tight",children:"Pipeline Updates"})]}),e.jsx("ul",{className:"space-y-2",children:r.pipelineUpdates.map((t,a)=>e.jsxs("li",{className:"text-sm text-muted-foreground flex items-start gap-2",children:[e.jsx("span",{className:"mt-1.5 w-1.5 h-1.5 rounded-full bg-purple-500 shrink-0"}),t]},a))})]}),e.jsxs("div",{className:"p-4 border rounded-xl bg-background shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"p-2 bg-orange-500/10 rounded-lg",children:e.jsx(O,{className:"w-4 h-4 text-orange-500"})}),e.jsx("h3",{className:"text-sm font-bold uppercase tracking-tight",children:"Container Scaling"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:r.containerScaling})]}),e.jsxs("div",{className:"p-4 border rounded-xl bg-background shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"p-2 bg-green-500/10 rounded-lg",children:e.jsx(V,{className:"w-4 h-4 text-green-500"})}),e.jsx("h3",{className:"text-sm font-bold uppercase tracking-tight",children:"CI/CD Adjustments"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:r.cicdAdjustments})]})]})})]})},se=({analysis:s})=>{const r=t=>t>70?"bg-destructive":t>40?"bg-warning":"bg-green-500";return e.jsxs(i,{className:"h-full",children:[e.jsxs(d,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(o,{className:"text-lg font-bold",children:"Risk Propagation Graph"}),e.jsx(W,{className:"w-5 h-5 text-destructive"})]}),e.jsx(l,{children:e.jsxs("div",{className:"space-y-6 mt-2",children:[s.riskPropagation.map((t,a)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold",children:t.entity}),e.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wider",children:t.connectionType})]}),e.jsxs("span",{className:"text-sm font-bold",children:[t.riskScore,"%"]})]}),e.jsx("div",{className:"h-2 w-full bg-muted rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full transition-all ${r(t.riskScore)}`,style:{width:`${t.riskScore}%`}})})]},a)),e.jsx("div",{className:"pt-4 border-t",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:"Overall Propagation Level"}),e.jsxs("span",{className:"text-xl font-bold text-destructive",children:[s.riskPropagationLevel,"%"]})]})})]})})]})},ae=({analysis:s})=>{const{costDetails:r,estimatedCostImpact:t}=s,a=c=>`${c>=0?"+":""}$${Math.abs(c)}/mo`;return e.jsxs(i,{className:"h-full",children:[e.jsxs(d,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(o,{className:"text-lg font-bold",children:"Cost Impact Panel"}),e.jsx(F,{className:"w-5 h-5 text-green-500"})]}),e.jsx(l,{children:e.jsxs("div",{className:"space-y-6 mt-2",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/30 rounded-xl",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Estimated Monthly Change"}),e.jsxs("h2",{className:`text-2xl font-bold ${t>=0?"text-destructive":"text-green-500"}`,children:[t>0?"+":"",t,"%"]})]}),t>=0?e.jsx(U,{className:"w-8 h-8 text-destructive opacity-50"}):e.jsx(H,{className:"w-8 h-8 text-green-500 opacity-50"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-dashed",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Infrastructure"}),e.jsx("span",{className:`font-semibold ${r.infra>=0?"text-destructive":"text-green-500"}`,children:a(r.infra)})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-dashed",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"AI Compute"}),e.jsx("span",{className:`font-semibold ${r.compute>=0?"text-destructive":"text-green-500"}`,children:a(r.compute)})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-dashed",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Storage"}),e.jsx("span",{className:`font-semibold ${r.storage>=0?"text-destructive":"text-green-500"}`,children:a(r.storage)})]})]})]})})]})},re=({analysis:s})=>{const r=t=>{switch(t){case"COMPLETED":return e.jsx($,{className:"w-5 h-5 text-green-500"});case"IN_PROGRESS":return e.jsx(K,{className:"w-5 h-5 text-blue-500 animate-spin"});default:return e.jsx(B,{className:"w-5 h-5 text-muted-foreground"})}};return e.jsxs(i,{children:[e.jsx(d,{children:e.jsx(o,{className:"text-lg",children:"Simulation Rollout Timeline"})}),e.jsx(l,{children:e.jsx("div",{className:"relative mt-4 space-y-0",children:s.simulationTimeline.map((t,a)=>e.jsxs("div",{className:"flex gap-4 pb-8 last:pb-0 relative",children:[a!==s.simulationTimeline.length-1&&e.jsx("div",{className:"absolute left-[10px] top-6 bottom-0 w-0.5 bg-muted"}),e.jsx("div",{className:"z-10 bg-background rounded-full",children:r(t.status)}),e.jsxs("div",{className:"flex-1 -mt-1",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("h4",{className:"font-bold text-sm",children:t.stage}),e.jsx("span",{className:"text-xs font-medium px-2 py-0.5 bg-muted rounded text-muted-foreground",children:t.duration})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t.description}),e.jsx("div",{className:"mt-2 flex items-center gap-2",children:e.jsx("span",{className:`text-[10px] font-bold uppercase px-1.5 py-0.5 rounded ${t.status==="COMPLETED"?"bg-green-500/10 text-green-500":t.status==="IN_PROGRESS"?"bg-blue-500/10 text-blue-500":"bg-muted text-muted-foreground"}`,children:t.status.replace("_"," ")})})]})]},a))})})]})},Ae=()=>{const{decisionId:s}=S(),r=C(),{decision:t,analysis:a,isLoading:c}=z(s);return c?e.jsxs("div",{className:"flex h-[400px] items-center justify-center",children:[e.jsx(Y,{className:"h-8 w-8 animate-spin text-primary"}),e.jsx("span",{className:"ml-2",children:"Loading analysis intelligence..."})]}):!t||!a?e.jsxs("div",{className:"text-center py-20",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Analysis Not Found"}),e.jsxs("p",{className:"text-muted-foreground mt-2",children:["Could not find analysis data for ID: ",s]}),e.jsx(f,{onClick:()=>r(-1),variant:"outline",className:"mt-4",children:"Go Back"})]}):e.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[e.jsx("div",{className:"flex items-center gap-4 mb-2",children:e.jsxs(f,{variant:"ghost",size:"sm",onClick:()=>r(-1),children:[e.jsx(_,{className:"w-4 h-4 mr-1"}),"Back to ADRs"]})}),e.jsx(Z,{decision:t}),e.jsx(q,{analysis:a}),e.jsx(Q,{analysis:a}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(X,{analysis:a}),e.jsx(ee,{analysis:a})]}),e.jsx(te,{analysis:a}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(se,{analysis:a}),e.jsx(ae,{analysis:a})]}),e.jsx(re,{analysis:a})]})};export{Ae as default};
