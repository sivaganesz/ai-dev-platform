import{j as e,B as i,c as g,U as v,r as c}from"./index-BCiwssk4.js";import{u as N}from"./useQuery-DHQUI4b3.js";import{p as C}from"./projectsData-w6JgQ9MI.js";import{I as L}from"./input-D6xA4H8f.js";import{S as b,a as y,b as S,c as w,d as n}from"./select-PQl-LpCO.js";import{S as P}from"./search-D8RRm6yT.js";import{C as d,a as x,b as m,c as u}from"./card-BFKiiVyG.js";import{P as E}from"./progress-Dcq2j96H.js";import{C as T}from"./calendar-BklZPH3c.js";import{R as A,T as D}from"./CategoricalChart-Bh3gHgaB.js";import{B as O,a as k}from"./BarChart-ClOmmqJy.js";import{X as I,Y as H}from"./CartesianChart-CtP7DrOF.js";import{C as V}from"./tooltipContext-CA0WRoRU.js";import"./v4-EwEgHOG0.js";import"./index-DU2GHXII.js";import"./chevron-down-DHnmizAH.js";import"./ActiveShapeUtils-Dbbm0Wpw.js";import"./ErrorBarContext-jl1rQoiN.js";import"./graphicalItemSelectors-DMoC6oeC.js";const M=()=>N({queryKey:["projects"],queryFn:async()=>new Promise(s=>setTimeout(()=>s(C),300))});function B({onSearchChange:s,onStatusChange:a}){return e.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(P,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e.jsx(L,{placeholder:"Search projects...",className:"pl-9",onChange:t=>s(t.target.value)})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(b,{onValueChange:a,defaultValue:"ALL",children:[e.jsx(y,{className:"w-[180px]",children:e.jsx(S,{placeholder:"Status"})}),e.jsxs(w,{children:[e.jsx(n,{value:"ALL",children:"All Statuses"}),e.jsx(n,{value:"ACTIVE",children:"Active"}),e.jsx(n,{value:"ON_HOLD",children:"On Hold"}),e.jsx(n,{value:"COMPLETED",children:"Completed"})]})]})})]})}function _({project:s}){const a=Math.round(s.completedTasks/s.tasksCount*100),t={ACTIVE:"border-blue-500 text-blue-500",ON_HOLD:"border-yellow-500 text-yellow-500",COMPLETED:"border-green-500 text-green-500"};return e.jsxs(d,{className:"hover:shadow-md transition-shadow",children:[e.jsxs(x,{className:"flex flex-row items-start justify-between space-y-0 pb-2",children:[e.jsx(m,{className:"text-lg font-bold truncate pr-4",children:s.name}),e.jsx(i,{variant:"outline",className:g("text-[10px] uppercase",t[s.status]),children:s.status.replace("_"," ")})]}),e.jsxs(u,{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 min-h-[40px]",children:s.description}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(v,{className:"h-3 w-3"}),e.jsx("span",{children:s.owner})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(T,{className:"h-3 w-3"}),e.jsxs("span",{children:["Ends ",new Date(s.endDate).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{className:"font-medium",children:[a,"%"]})]}),e.jsx(E,{value:a,className:"h-1.5"}),e.jsxs("div",{className:"flex justify-between text-[10px] text-muted-foreground",children:[e.jsxs("span",{children:[s.completedTasks," tasks done"]}),e.jsxs("span",{children:[s.tasksCount," total"]})]})]}),e.jsx("div",{className:"flex flex-wrap gap-1 pt-2",children:s.team.map(r=>e.jsx(i,{variant:"secondary",className:"text-[9px] px-1.5 py-0",children:r},r))})]})]})}function F({projects:s}){return s.length===0?e.jsx("div",{className:"flex flex-col items-center justify-center py-12 text-muted-foreground",children:e.jsx("p",{children:"No projects found matching your filters."})}):e.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:s.map(a=>e.jsx(_,{project:a},a.id))})}function R({projects:s}){const a=s.reduce((r,l)=>(r[l.status]++,r),{ACTIVE:0,ON_HOLD:0,COMPLETED:0}),t=[{name:"Active",value:a.ACTIVE,color:"#3b82f6"},{name:"On Hold",value:a.ON_HOLD,color:"#eab308"},{name:"Completed",value:a.COMPLETED,color:"#10b981"}];return e.jsxs(d,{children:[e.jsx(x,{children:e.jsx(m,{className:"text-sm font-medium",children:"Project Distribution"})}),e.jsx(u,{children:e.jsx("div",{className:"h-[200px] w-full",children:e.jsx(A,{width:"100%",height:"100%",children:e.jsxs(O,{data:t,children:[e.jsx(I,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),e.jsx(H,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),e.jsx(D,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",color:"hsl(var(--foreground))"},itemStyle:{color:"hsl(var(--foreground))"}}),e.jsx(k,{dataKey:"value",radius:[4,4,0,0],barSize:40,children:t.map((r,l)=>e.jsx(V,{fill:r.color},`cell-${l}`))})]})})})})]})}function oe(){const{data:s,isLoading:a}=M(),[t,r]=c.useState(""),[l,h]=c.useState("ALL");if(a)return e.jsx("div",{className:"flex h-[400px] items-center justify-center",children:e.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})});const p=s?.filter(o=>{const j=o.name.toLowerCase().includes(t.toLowerCase())||o.owner.toLowerCase().includes(t.toLowerCase()),f=l==="ALL"||o.status===l;return j&&f})||[];return e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Projects"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage and track all enterprise AI projects."})]}),e.jsx(B,{onSearchChange:r,onStatusChange:h}),e.jsxs("div",{className:"grid gap-6",children:[e.jsx(R,{projects:s||[]}),e.jsx(F,{projects:p})]})]})}export{oe as default};
