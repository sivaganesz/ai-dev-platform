import{e as y,j as e,b as v,B as f,c as b,l as d}from"./index-CyvJUZqR.js";import{u as w}from"./useQuery-DOA-4dB4.js";import{C as i,a as r,b as n,c as l}from"./card-9e5eR-TL.js";import{R as c,T as o}from"./CategoricalChart-WJAmy3lP.js";import{A as k,a as T}from"./AreaChart-B_cJzpI-.js";import{C as h}from"./CartesianGrid-BmRwr4Ov.js";import{X as j,Y as g}from"./CartesianChart-Kxs-tJ8o.js";import{B as A,a as C}from"./BarChart-gLJDjHRP.js";import{C as P}from"./tooltipContext-BhFxnOuu.js";import{P as x}from"./progress-DPoL9SyL.js";import{Z as N}from"./zap-CnivpesB.js";import{T as S}from"./target-PxYklxJy.js";import{R as I,P as R,a as E,b as L,c as m,L as p}from"./RadarChart-_XoySH-w.js";import{T as u}from"./trending-up-Br-8hbr_.js";import{A as M}from"./arrow-right-BNY497oc.js";import{C as O}from"./circle-alert-BykDmaaL.js";import{C as D}from"./clock-BXrF9XKR.js";import"./ActivePoints-CruzyNxB.js";import"./getRadiusAndStrokeWidthFromDot-fpoNHmAp.js";import"./graphicalItemSelectors-01I7ku9s.js";import"./ActiveShapeUtils-tTCqnt4A.js";import"./ErrorBarContext-BO_Rq41O.js";import"./PolarChart-D353rnxE.js";const B=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],z=y("gauge",B),H=[{id:"PRF-001",metric:"API Latency",averageMs:240,peakMs:620,status:"OPTIMAL"},{id:"PRF-002",metric:"Build Duration",averageMs:320,peakMs:450,status:"OPTIMAL"},{id:"PRF-003",metric:"Agent Execution",averageMs:1200,peakMs:3500,status:"DEGRADED"},{id:"PRF-004",metric:"Workflow Completion",averageMs:850,peakMs:1200,status:"OPTIMAL"}],K=[{time:"00:00",latency:180},{time:"04:00",latency:210},{time:"08:00",latency:450},{time:"12:00",latency:320},{time:"16:00",latency:280},{time:"20:00",latency:240},{time:"23:59",latency:200}],F=[{date:"2026-02-08",duration:310},{date:"2026-02-09",duration:305},{date:"2026-02-10",duration:420},{date:"2026-02-11",duration:315},{date:"2026-02-12",duration:310},{date:"2026-02-13",duration:300},{date:"2026-02-14",duration:295}],G=[{id:"A-001",agentName:"Frontend Agent",avgExecutionTime:850,taskThroughput:45,successRate:98},{id:"A-002",agentName:"Backend Agent",avgExecutionTime:1450,taskThroughput:38,successRate:95},{id:"A-003",agentName:"DevOps Agent",avgExecutionTime:2200,taskThroughput:12,successRate:92},{id:"A-004",agentName:"QA Agent",avgExecutionTime:1800,taskThroughput:25,successRate:96}],U=[{name:"Auth Pipeline",avgTime:240,maxTime:450},{name:"Data Sync",avgTime:1200,maxTime:2500},{name:"Security Scan",avgTime:450,maxTime:900},{name:"UI Regression",avgTime:1800,maxTime:3600}],W=[{id:"INS-001",type:"BOTTLENECK",title:"Database Connection Pool Exhaustion",description:"Backend Agent execution time is spiking due to connection pool limits during peak hours (08:00-10:00).",impact:"HIGH"},{id:"INS-002",type:"OPTIMIZATION",title:"CI Cache Potential",description:"Enabling layer caching for Docker builds could reduce average build duration by 15%.",impact:"MEDIUM"},{id:"INS-003",type:"SUCCESS",title:"API Optimization Rollout",description:"Recent API Gateway optimizations have reduced baseline latency by 20% across all endpoints.",impact:"LOW"}],Z={overallHealth:"98.2%",activeBottlenecks:1,optimizationOps:3,trend:"Improving"};function q(){return w({queryKey:["performance-data"],queryFn:async()=>(await new Promise(s=>setTimeout(s,500)),{metrics:H,latencyHistory:K,buildDurations:F,agentMetrics:G,workflows:U,insights:W,stats:Z})})}function $({data:s}){return e.jsxs(i,{className:"col-span-full lg:col-span-2",children:[e.jsx(r,{children:e.jsx(n,{className:"text-sm font-medium",children:"API Latency Trend (ms)"})}),e.jsx(l,{children:e.jsx("div",{className:"h-[240px] w-full",children:e.jsx(c,{width:"100%",height:"100%",children:e.jsxs(k,{data:s,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorLatency",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})}),e.jsx(h,{strokeDasharray:"3 3",vertical:!1,stroke:"#f0f0f0"}),e.jsx(j,{dataKey:"time",fontSize:12,tickLine:!1,axisLine:!1}),e.jsx(g,{fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:t=>`${t}ms`}),e.jsx(o,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}}),e.jsx(T,{type:"monotone",dataKey:"latency",stroke:"#3b82f6",strokeWidth:2,fillOpacity:1,fill:"url(#colorLatency)"})]})})})})]})}function Q({data:s}){return e.jsxs(i,{className:"col-span-full lg:col-span-2",children:[e.jsx(r,{children:e.jsx(n,{className:"text-sm font-medium",children:"Build Duration History (seconds)"})}),e.jsx(l,{children:e.jsx("div",{className:"h-[240px] w-full",children:e.jsx(c,{width:"100%",height:"100%",children:e.jsxs(A,{data:s,children:[e.jsx(h,{strokeDasharray:"3 3",vertical:!1,stroke:"#f0f0f0"}),e.jsx(j,{dataKey:"date",fontSize:10,tickLine:!1,axisLine:!1,tickFormatter:t=>t.split("-").slice(1).join("/")}),e.jsx(g,{fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:t=>`${t}s`}),e.jsx(o,{cursor:{fill:"transparent"},contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}}),e.jsx(C,{dataKey:"duration",radius:[4,4,0,0],fill:"#8b5cf6",children:s.map((t,a)=>e.jsx(P,{fill:t.duration>400?"#ef4444":"#8b5cf6"},`cell-${a}`))})]})})})})]})}function X({agents:s}){return e.jsxs(i,{className:"col-span-full md:col-span-1",children:[e.jsx(r,{children:e.jsxs(n,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(v,{className:"h-4 w-4"}),"Agent Execution Speed"]})}),e.jsx(l,{children:e.jsx("div",{className:"space-y-6",children:s.map(t=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs font-semibold",children:t.agentName}),e.jsxs(f,{variant:t.avgExecutionTime>2e3?"destructive":"secondary",className:"text-[10px]",children:[t.avgExecutionTime,"ms avg"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{className:"h-3 w-3 text-yellow-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between text-[9px] mb-1",children:[e.jsx("span",{children:"Throughput"}),e.jsxs("span",{children:[t.taskThroughput," tasks/h"]})]}),e.jsx(x,{value:t.taskThroughput*2,className:"h-1"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-3 w-3 text-green-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between text-[9px] mb-1",children:[e.jsx("span",{children:"Success Rate"}),e.jsxs("span",{children:[t.successRate,"%"]})]}),e.jsx(x,{value:t.successRate,className:"h-1"})]})]})]})]},t.id))})})]})}function Y({data:s}){return e.jsxs(i,{className:"col-span-full md:col-span-1",children:[e.jsx(r,{children:e.jsx(n,{className:"text-sm font-medium",children:"Workflow Completion Efficiency"})}),e.jsxs(l,{children:[e.jsx("div",{className:"h-[240px] w-full",children:e.jsx(c,{width:"100%",height:"100%",children:e.jsxs(I,{cx:"50%",cy:"50%",outerRadius:"80%",data:s,children:[e.jsx(R,{stroke:"#f0f0f0"}),e.jsx(E,{dataKey:"name",fontSize:10}),e.jsx(L,{fontSize:10,angle:30,domain:[0,4e3]}),e.jsx(m,{name:"Avg Time",dataKey:"avgTime",stroke:"#10b981",fill:"#10b981",fillOpacity:.5}),e.jsx(m,{name:"Max Time",dataKey:"maxTime",stroke:"#f43f5e",fill:"#f43f5e",fillOpacity:.3}),e.jsx(o,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",fontSize:"10px"}})]})})}),e.jsxs("div",{className:"flex justify-center gap-4 mt-2",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-[#10b981]"}),e.jsx("span",{className:"text-[10px] text-muted-foreground",children:"Avg Duration"})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-[#f43f5e]"}),e.jsx("span",{className:"text-[10px] text-muted-foreground",children:"Max Duration"})]})]})]})]})}function _({insights:s}){const t=a=>{switch(a){case"BOTTLENECK":return e.jsx(O,{className:"h-4 w-4 text-red-500"});case"OPTIMIZATION":return e.jsx(p,{className:"h-4 w-4 text-yellow-500"});case"SUCCESS":return e.jsx(u,{className:"h-4 w-4 text-green-500"});default:return e.jsx(p,{className:"h-4 w-4 text-blue-500"})}};return e.jsxs(i,{className:"col-span-full",children:[e.jsx(r,{children:e.jsxs(n,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(u,{className:"h-4 w-4"}),"Performance Optimization Insights"]})}),e.jsx(l,{children:e.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:s.map(a=>e.jsxs("div",{className:b("p-4 rounded-lg border bg-card relative overflow-hidden group hover:border-primary transition-colors",a.type==="BOTTLENECK"&&"border-red-500/20 bg-red-500/[0.02]"),children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-muted/50",children:t(a.type)}),e.jsxs(f,{variant:a.impact==="HIGH"?"destructive":"outline",className:"text-[10px]",children:[a.impact," IMPACT"]})]}),e.jsx("h4",{className:"text-xs font-bold mb-1",children:a.title}),e.jsx("p",{className:"text-[11px] text-muted-foreground leading-relaxed mb-4",children:a.description}),e.jsxs("button",{className:"flex items-center gap-1 text-[10px] font-bold text-primary hover:underline",children:["View Resolution Guide ",e.jsx(M,{className:"h-3 w-3"})]})]},a.id))})})]})}function ve(){const{data:s,isLoading:t}=q();return t?e.jsx("div",{className:"flex items-center justify-center h-full text-sm",children:"Analyzing system performance..."}):e.jsxs("div",{className:"flex-1 space-y-4 p-4 pt-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(z,{className:"h-6 w-6 text-primary"}),e.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"System Performance"})]})}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[e.jsxs(i,{children:[e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(n,{className:"text-[10px] font-bold uppercase tracking-wider text-muted-foreground",children:"Overall Health"}),e.jsx(d,{className:"h-4 w-4 text-green-500"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s?.stats.overallHealth}),e.jsx("p",{className:"text-[10px] text-muted-foreground",children:"System wide stability"})]})]}),e.jsxs(i,{children:[e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(n,{className:"text-[10px] font-bold uppercase tracking-wider text-muted-foreground",children:"Active Bottlenecks"}),e.jsx(N,{className:"h-4 w-4 text-yellow-500"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s?.stats.activeBottlenecks}),e.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Requiring optimization"})]})]}),e.jsxs(i,{children:[e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(n,{className:"text-[10px] font-bold uppercase tracking-wider text-muted-foreground",children:"Optimizations"}),e.jsx(D,{className:"h-4 w-4 text-blue-500"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s?.stats.optimizationOps}),e.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Potential improvements"})]})]}),e.jsxs(i,{children:[e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(n,{className:"text-[10px] font-bold uppercase tracking-wider text-muted-foreground",children:"Performance Trend"}),e.jsx(d,{className:"h-4 w-4 text-primary"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s?.stats.trend}),e.jsx("p",{className:"text-[10px] text-green-500 font-medium",children:"+4.5% efficiency"})]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx($,{data:s?.latencyHistory||[]}),e.jsx(Q,{data:s?.buildDurations||[]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsx(X,{agents:s?.agentMetrics||[]}),e.jsx(Y,{data:s?.workflows||[]})]}),e.jsx("div",{className:"grid gap-4",children:e.jsx(_,{insights:s?.insights||[]})})]})}export{ve as default};
